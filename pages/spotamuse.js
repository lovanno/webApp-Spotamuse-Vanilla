const myDearMelancholy_EP = [
    {
        "id": "21",
        "ISRC": "USUG11800560",
        "label": ["Universal Music Group", "Republic Records", "XO Records"],
        "artist": "The Weeknd",
        "feature": "",
        "track_title": "Call Out My Name",
        "track_subTitle": "",
        "track_album": "My Dear Melancholy,",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/myDearMelancholy/callOutMyName_song1.mp3",
        "track_coverUrl": "../material/albums/myDearMelancholy/myDearMelancholy_albumCover.jfif",
                
        "genres": ["R&B", "Soul", "Pop", "Dark Pop", "Alternative R&B"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "1",
        "played": "0",

        "year": "2018",
        "release_date": "03/30/2018",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Frank Dukes", "Nicolas Jaar", "The Weeknd"],
        "producers": "Frank Dukes",
        "engineers": ["Shin Kamiyama", "Jaycen Joshua", "MaddMix", "David Nakaji"],
        "other_assistants": "",
                
        "key": "C# major",
        "duration": "3:48",
        "bpm": "134",
        "popularity": "83",
        "energy": "59",
        "danceability": "46",
        "valence": "18",
        "acousticness": "17",
        "instrumentalness": "0",
        "liveness": "31",
        "speechiness": "4",
        "loudness": "-5",
    },
    {
        "id": "22",
        "ISRC": "USUG11800562",
        "label": ["Universal Music Group", "Republic Records", "XO Records"],
        "artist": "The Weeknd",
        "feature": "",
        "track_title": "Try Me",
        "track_subTitle": "",
        "track_album": "My Dear Melancholy,",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/myDearMelancholy/tryMe_song2.mp3",
        "track_coverUrl": "../material/albums/myDearMelancholy/myDearMelancholy_albumCover.jfif",
                
        "genres": ["R&B", "Soul", "Pop", "Electropop", "Alternative R&B"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "2",
        "played": "0",

        "year": "2018",
        "release_date": "03/30/2018",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Marz", "Belly", "Mike WiLL Made-It", "Frank Dukes", "DaHeala", "The Weeknd"],
        "producers": ["DaHeala", "Marz", "Frank Dukes", "Mike WiLL Made-It"],
        "engineers": ["Shin Kamiyama", "Jaycen Joshua", "MaddMix", "David Nakaji"],
        "other_assistants": "",
                
        "key": "Ab minor",
        "duration": "3:41",
        "bpm": "92",
        "popularity": "73",
        "energy": "68",
        "danceability": "46",
        "valence": "11",
        "acousticness": "60",
        "instrumentalness": "0",
        "liveness": "13",
        "speechiness": "6",
        "loudness": "-6",
    },
    {
        "id": "23",
        "ISRC": "USUG11800564",
        "label": ["Universal Music Group", "Republic Records", "XO Records"],
        "artist": "The Weeknd",
        "feature": "",
        "track_title": "Wasted Times",
        "track_subTitle": "",
        "track_album": "My Dear Melancholy,",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/myDearMelancholy/wastedTimes_song3.mp3",
        "track_coverUrl": "../material/albums/myDearMelancholy/myDearMelancholy_albumCover.jfif",
                
        "genres": ["R&B", "Soul", "Pop", "Electropop", "Alternative R&B"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "3",
        "played": "0",

        "year": "2018",
        "release_date": "03/20/2018",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["Skrillex", "Frank Dukes", "Starrah", "The Weeknd"],
        "producers": ["Frank Dukes", "Skrillex"],
        "engineers": ["Shin Kamiyama", "Jaycen Joshua", "MaddMix", "David Nakaji"],
        "other_assistants": "",
                
        "key": "Bb minor",
        "duration": "3:40",
        "bpm": "123",
        "popularity": "72",
        "energy": "68",
        "danceability": "56",
        "valence": "29",
        "acousticness": "61",
        "instrumentalness": "0",
        "liveness": "11",
        "speechiness": "6",
        "loudness": "-6",
    },
    {
        "id": "24",
        "ISRC": "USUG11800570",
        "label": ["Universal Music Group", "Republic Records", "XO Records"],
        "artist": "The Weeknd",
        "feature": "Gesaffelstein",
        "track_title": "I Was Never There",
        "track_subTitle": "",
        "track_album": "My Dear Melancholy,",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/myDearMelancholy/IWasNeverThere_song4.mp3",
        "track_coverUrl": "../material/albums/myDearMelancholy/myDearMelancholy_albumCover.jfif",
                
        "genres": ["R&B", "Soul", "Electropop", "Alternative R&B"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "4",
        "played": "0",

        "year": "2018",
        "release_date": "03/20/2018",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Frank Dukes", "Gesaffelstein", "The Weeknd"],
        "producers": ["Frank Dukes", "Gesaffelstein"],
        "engineers": ["Shin Kamiyama", "Jaycen Joshua", "MaddMix", "David Nakaji"],
        "other_assistants": "",
                
        "key": "Bb major",
        "duration": "4:01",
        "bpm": "113",
        "popularity": "69",
        "energy": "74",
        "danceability": "32",
        "valence": "16",
        "acousticness": "14",
        "instrumentalness": "0",
        "liveness": "16",
        "speechiness": "3",
        "loudness": "-4",
    },
    {
        "id": "25",
        "ISRC": "USUG11800566",
        "label": ["Universal Music Group", "Republic Records", "XO Records"],
        "artist": "The Weeknd",
        "feature": "Gesaffelstein",
        "track_title": "Hurt You",
        "track_subTitle": "",
        "track_album": "My Dear Melancholy,",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/myDearMelancholy/hurtYou_song5.mp3",
        "track_coverUrl": "../material/albums/myDearMelancholy/myDearMelancholy_albumCover.jfif",
                
        "genres": ["R&B", "Soul", "Electropop", "Alternative R&B"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "5",
        "played": "0",

        "year": "2018",
        "release_date": "03/20/2018",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Guy-Manuel de Homem-Christo", "Cirkut", "Frank Dukes", "Gesaffelstein", "The Weeknd"],
        "producers": ["Cirkut", "Guy-Manuel de Homem-Christo", "Gesaffelstein"],
        "engineers": ["Shin Kamiyama", "Florian Lagatta", "Jaycen Joshua"],
        "other_assistants": "",
                
        "key": "F minor",
        "duration": "3:50",
        "bpm": "92",
        "popularity": "71",
        "energy": "72",
        "danceability": "48",
        "valence": "36",
        "acousticness": "26",
        "instrumentalness": "0",
        "liveness": "11",
        "speechiness": "15",
        "loudness": "-7",
    },
    {
        "id": "26",
        "ISRC": "USUG11800568",
        "label": ["Universal Music Group", "Republic Records", "XO Records"],
        "artist": "The Weeknd",
        "feature": "",
        "track_title": "Privilege",
        "track_subTitle": "",
        "track_album": "My Dear Melancholy,",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/myDearMelancholy/privilege_song6.mp3",
        "track_coverUrl": "../material/albums/myDearMelancholy/myDearMelancholy_albumCover.jfif",
                
        "genres": ["R&B", "Soul", "Alternative R&B"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "6",
        "played": "0",

        "year": "2018",
        "release_date": "03/20/2018",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Doc McKinney", "Ben Billions", "Brennan Savage", "The Weeknd", "DaHeala", "Frank Dukes"],
        "producers": ["DaHeala", "Frank Dukes"],
        "engineers": ["Shin Kamiyama", "Jaycen Joshua", "MaddMix", "David Nakaji"],
        "other_assistants": "",
                
        "key": "B minor",
        "duration": "2:51",
        "bpm": "94",
        "popularity": "70",
        "energy": "56",
        "danceability": "40",
        "valence": "37",
        "acousticness": "92",
        "instrumentalness": "0",
        "liveness": "13",
        "speechiness": "3",
        "loudness": "-7",
    },
    {
        "id": "27",
        "ISRC": "USUG11901347",
        "label": ["Universal Music Group", "Republic Records", "XO Records"],
        "artist": "The Weeknd",
        "feature": "",
        "track_title": "Call Out My Name",
        "track_subTitle": "A Capella",
        "track_album": "My Dear Melancholy,",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/myDearMelancholy/callOutMyNameACappella_song7.mp3",
        "track_coverUrl": "../material/albums/myDearMelancholy/myDearMelancholy_albumCover.jfif",
                
        "genres": ["A Cappella", "R&B", "Soul", "Alternative R&B"],
        "track_type": ["Track", "A Cappella"],
        "album_type": "EP",
        "track_number": "7",
        "played": "0",

        "year": "2019",
        "release_date": "05/10/2019",
        "explicit": "No",
        "languages": "English",
               
        "writers": "The Weeknd",
        "producers": "Frank Dukes",
        "engineers": "",
        "other_assistants": "",
                
        "key": "C# major",
        "duration": "3:45",
        "bpm": "135",
        "popularity": "58",
        "energy": "34",
        "danceability": "40",
        "valence": "46",
        "acousticness": "89",
        "instrumentalness": "0",
        "liveness": "31",
        "speechiness": "4",
        "loudness": "-7",
    },
]

const seven_EP = [
    {
        "id": "28",
        "ISRC": "USSM11902498",
        "label": "Columbia Records",
        "artist": "Lil Nas X",
        "feature": "Billy Ray Cyrus",
        "track_title": "Old Town Road",
        "track_subTitle": "(Remix)",
        "track_album": "7",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/seven/oldTownRoadRemix_song1.mp3",
        "track_coverUrl": "../material/albums/seven/seven_albumCover.jfif",
                
        "genres": ["Rap", "Country Rap", "Country", "Pop Country", "Trap"],
        "track_type": ["Track", "Remix"],
        "album_type": "EP",
        "track_number": "1",
        "played": "0",

        "year": "2019",
        "release_date": "04/05/2019",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Jozzy", "Atticus Ross", "Trent Reznor", "Billy Ray Cyrus", "Lil Nas X"],
        "producers": ["Trent Reznor", "Atticus Ross", "YoungKio"],
        "engineers": ["Eric Lagg", "Joe Grasso"],
        "other_assistants": "",
                
        "key": "F# major",
        "duration": "2:37",
        "bpm": "136",
        "popularity": "83",
        "energy": "62",
        "danceability": "88",
        "valence": "64",
        "acousticness": "5",
        "instrumentalness": "0",
        "liveness": "11",
        "speechiness": "10",
        "loudness": "-6",
    },
    {
        "id": "29",
        "ISRC": "USSM11903948",
        "label": "Columbia Records",
        "artist": "Lil Nas X",
        "feature": "",
        "track_title": "Panini",
        "track_subTitle": "",
        "track_album": "7",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/seven/panini_song2.mp3",
        "track_coverUrl": "../material/albums/seven/seven_albumCover.jfif",
                
        "genres": ["Pop", "Rap", "Dance Pop", "Alternative Rap"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "2",
        "played": "0",

        "year": "2019",
        "release_date": "06/20/2019",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Dot Da Genius", "David Biral", "Denzel Baptiste", "Lil Nas X"],
        "producers": ["Dot Da Genius", "Take a Daytrip"],
        "engineers": ["Colin Leonard", "DJ Swivel", "Denzel Baptiste", "Thomas Cullison"],
        "other_assistants": "",
                
        "key": "F minor",
        "duration": "1:55",
        "bpm": "154",
        "popularity": "69",
        "energy": "59",
        "danceability": "70",
        "valence": "48",
        "acousticness": "34",
        "instrumentalness": "0",
        "liveness": "12",
        "speechiness": "8",
        "loudness": "-6",
    },
    {
        "id": "30",
        "ISRC": "USSM11903949",
        "label": "Columbia Records",
        "artist": "Lil Nas X",
        "feature": "Travis Barker",
        "track_title": "F9mily",
        "track_subTitle": "(You & Me)",
        "track_album": "7",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/seven/f9mily\(You&Me\)_song3.mp3",
        "track_coverUrl": "../material/albums/seven/seven_albumCover.jfif",
                
        "genres": ["Pop", "Rock", "Dance Pop", "Pop rock"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "3",
        "played": "0",

        "year": "2019",
        "release_date": "06/21/2019",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Matt Malpass", "Lil Nas X", "Travis Barker"],
        "producers": "Travis Barker",
        "engineers": ["Eric Lagg", "Joe Grasso", "Matt Malpass"],
        "other_assistants": "",
                
        "key": "C major",
        "duration": "2:43",
        "bpm": "170",
        "popularity": "57",
        "energy": "53",
        "danceability": "56",
        "valence": "41",
        "acousticness": "2",
        "instrumentalness": "0",
        "liveness": "9",
        "speechiness": "3",
        "loudness": "-8",
    },
    {
        "id": "31",
        "ISRC": "USSM11903950",
        "label": "Columbia Records",
        "artist": "Lil Nas X",
        "feature": "",
        "track_title": "Kick It",
        "track_subTitle": "",
        "track_album": "7",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/seven/kickIt_song4.mp3",
        "track_coverUrl": "../material/albums/seven/seven_albumCover.jfif",
                
        "genres": ["Pop", "Rap", "Alternative Pop", "Alternative Rock"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "4",
        "played": "0",

        "year": "2019",
        "release_date": "06/21/2019",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["boyband", "FWDSLXSH", "Bizness Boi", "Lil Nas X"],
        "producers": ["Lil Nas X", "Bizness Boi", "FWDSLXSH", "boyband"],
        "engineers": ["Eric Lagg", "Joe Grasso", "Andy Rodriguez"],
        "other_assistants": ["johan lenox", "Danny Win", "YAS"],
                
        "key": "A major",
        "duration": "2:22",
        "bpm": "152",
        "popularity": "64",
        "energy": "48",
        "danceability": "74",
        "valence": "52",
        "acousticness": "14",
        "instrumentalness": "0",
        "liveness": "13",
        "speechiness": "23",
        "loudness": "-10",
    },
    {
        "id": "32",
        "ISRC": "USSM11903951",
        "label": "Columbia Records",
        "artist": ["Lil Nas X", "Cardi B"],
        "feature": "",
        "track_title": "Rodeo",
        "track_subTitle": "",
        "track_album": "7",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/seven/rodeo_song5.mp3",
        "track_coverUrl": "../material/albums/seven/seven_albumCover.jfif",
                
        "genres": ["Pop", "Country", "Rap", "Country Rap"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "5",
        "played": "0",

        "year": "2019",
        "release_date": "06/21/2019",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["Maxo Kream", "Pardison Fontaine", "Denzel Baptiste", "David Biral", "Klenord Raphael", "Cardi B", "Russ Chell", "Roy Lenzo", "Lil Nas X"],
        "producers": ["Russ Chell", "Roy Lenzo", "Take a Daytrip"],
        "engineers": ["Colin Leonard", "DJ Swivel", "Denzel Baptiste"],
        "other_assistants": "",
                
        "key": "A major",
        "duration": "2:39",
        "bpm": "140",
        "popularity": "75",
        "energy": "68",
        "danceability": "71",
        "valence": "66",
        "acousticness": "14",
        "instrumentalness": "0",
        "liveness": "47",
        "speechiness": "3",
        "loudness": "-6",
    },
    {
        "id": "33",
        "ISRC": "USSM11903952",
        "label": "Columbia Records",
        "artist": "Lil Nas X",
        "feature": "",
        "track_title": "Bring U Down",
        "track_subTitle": "",
        "track_album": "7",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/seven/bringUDown_song6.mp3",
        "track_coverUrl": "../material/albums/seven/seven_albumCover.jfif",
                
        "genres": ["Rock", "Cloud Rap", "Alternative Pop", "Alternative Rock", "Pop rock"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "6",
        "played": "0",

        "year": "2019",
        "release_date": "06/21/2019",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Zach Skelton", "Ryan Tedder", "Lil Nas X"],
        "producers": ["Zach Skelton", "Ryan Tedder"],
        "engineers": ["Eric Lagg", "Rich Rich", "Scott Desmarais", "Robin Florent", "Jeremie Inhaber"],
        "other_assistants": ["Zach Skelton", "Ryan Tedder", "Eddie Benjamin", "Eddie Fisher"],
                
        "key": "A minor",
        "duration": "2:12",
        "bpm": "120",
        "popularity": "64",
        "energy": "51",
        "danceability": "68",
        "valence": "48",
        "acousticness": "8",
        "instrumentalness": "0",
        "liveness": "11",
        "speechiness": "4",
        "loudness": "-7",
    },
    {
        "id": "34",
        "ISRC": "USSM11903953",
        "label": "Columbia Records",
        "artist": "Lil Nas X",
        "feature": "",
        "track_title": "C7osure",
        "track_subTitle": "(You Like)",
        "track_album": "7",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/seven/c7osure\(You\ Like\)_song7.mp3",
        "track_coverUrl": "../material/albums/seven/seven_albumCover.jfif",
                
        "genres": ["Alternative Indie", "R&B", "Alternative Pop", "Pop rock"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "7",
        "played": "0",

        "year": "2019",
        "release_date": "06/21/2019",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["X-Plosive", "Abaz", "Jahaan Sweet", "Boi-1da", "Allen Ritter", "Lil Nas X"],
        "producers": ["X-Plosive", "Abaz", "Jahaan Sweet", "Allen Ritter", "Boi-1da"],
        "engineers": ["Eric Lagg", "Jaycen Joshua", "Ray Charles Brown Jr.", "Mike Seaberg", "Jacob Richards", "DJ Riggins"],
        "other_assistants": "",
                
        "key": "Ab minor",
        "duration": "2:29",
        "bpm": "134",
        "popularity": "66",
        "energy": "74",
        "danceability": "85",
        "valence": "56",
        "acousticness": "40",
        "instrumentalness": "0",
        "liveness": "14",
        "speechiness": "25",
        "loudness": "-6",
    },
    {
        "id": "35",
        "ISRC": "USSM11901941",
        "label": "Columbia Records",
        "artist": "Lil Nas X",
        "feature": "",
        "track_title": "Old Town Road",
        "track_subTitle": "",
        "track_album": "7",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/seven/oldTownRoad_song8.mp3",
        "track_coverUrl": "../material/albums/seven/seven_albumCover.jfif",
                
        "genres": ["YoungKio", "Atticus Ross", "Trent Reznor", "Lil Nas X"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "8",
        "played": "0",

        "year": "2019",
        "release_date": "06/21/2019",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["YoungKio", "Atticus Ross", "Trent Reznor", "Lil Nas X"],
        "producers": ["Trent Reznor", "Atticus Ross", "YoungKio"],
        "engineers": "Cinco",
        "other_assistants": "",
                
        "key": "C# major",
        "duration": "1:53",
        "bpm": "136",
        "popularity": "79",
        "energy": "53",
        "danceability": "91",
        "valence": "51",
        "acousticness": "6",
        "instrumentalness": "0",
        "liveness": "10",
        "speechiness": "13",
        "loudness": "-6",
    },
]

const currentsBSide_EP = [
    {
        "id": "36",
        "ISRC": "AUUM71700373",
        "label": "Universal Music Australia Pty. Ltd.",
        "artist": "Tame Impala",
        "feature": "",
        "track_title": "List Of People",
        "track_subTitle": "(To Try And Forget About)",
        "track_album": "Currents",
        "track_subAlbum": "B-Sides & Remixes",
                
        "track_mp3Url": "../material/albums/currentsB/listOfPeople_song1.mp3",
        "track_coverUrl": "../material/albums/currentsB/currentsB_albumCover.jfif",
                
        "genres": ["Psychedelic Rock", "Pop"],
        "track_type": "Track",
        "album_type": ["B-Side", "Remix"],
        "track_number": "1",
        "played": "0",

        "year": "2017",
        "release_date": "11/16/2017",
        "explicit": "No",
        "languages": "English",
               
        "writers": "Kevin Parker",
        "producers": "Kevin Parker",
        "engineers": "",
        "other_assistants": "",
                
        "key": "Bb major",
        "duration": "4:40",
        "bpm": "95",
        "popularity": "56",
        "energy": "79",
        "danceability": "41",
        "valence": "20",
        "acousticness": "9",
        "instrumentalness": "0",
        "liveness": "10",
        "speechiness": "4",
        "loudness": "-6",
    },
    {
        "id": "37",
        "ISRC": "AUUM71700375",
        "label": "Universal Music Australia Pty. Ltd.",
        "artist": "Tame Impala",
        "feature": "",
        "track_title": "Powerlines",
        "track_subTitle": "",
        "track_album": "Currents",
        "track_subAlbum": "B-Sides & Remixes",
                
        "track_mp3Url": "../material/albums/currentsB/powerlines_song2.mp3",
        "track_coverUrl": "../material/albums/currentsB/currentsB_albumCover.jfif",
                
        "genres": ["Pop", "Instrumental", "Psychedelic Pop"],
        "track_type": "Track",
        "album_type": ["B-Side", "Remix"],
        "track_number": "2",
        "played": "0",

        "year": "2017",
        "release_date": "11/16/2017",
        "explicit": "No",
        "languages": "English",
               
        "writers": "Kevin Parker",
        "producers": "Kevin Parker",
        "engineers": "",
        "other_assistants": "",
                
        "key": "D major",
        "duration": "4:19",
        "bpm": "105",
        "popularity": "53",
        "energy": "89",
        "danceability": "55",
        "valence": "37",
        "acousticness": "3",
        "instrumentalness": "2",
        "liveness": "35",
        "speechiness": "4",
        "loudness": "-6",
    },
    {
        "id": "38",
        "ISRC": "AUUM71700374",
        "label": "Universal Music Australia Pty. Ltd.",
        "artist": "Tame Impala",
        "feature": "",
        "track_title": "Taxi's Here",
        "track_subTitle": "",
        "track_album": "Currents",
        "track_subAlbum": "B-Sides & Remixes",
                
        "track_mp3Url": "../material/albums/currentsB/taxi\'sHere_song3.mp3",
        "track_coverUrl": "../material/albums/currentsB/currentsB_albumCover.jfif",
                
        "genres": ["Pop", "Psychedelic Rock", "Synth pop", "Neo psychedelia", "Psychedelia"],
        "track_type": "Track",
        "album_type": ["B-Side", "Remix"],
        "track_number": "3",
        "played": "0",

        "year": "2017",
        "release_date": "11/16/2017",
        "explicit": "No",
        "languages": "English",
               
        "writers": "Kevin Parker",
        "producers": "Kevin Parker",
        "engineers": "",
        "other_assistants": "",
                
        "key": "G minor",
        "duration": "4:47",
        "bpm": "101",
        "popularity": "51",
        "energy": "57",
        "danceability": "57",
        "valence": "43",
        "acousticness": "62",
        "instrumentalness": "51",
        "liveness": "7",
        "speechiness": "3",
        "loudness": "-7",
    },
    {
        "id": "39",
        "ISRC": "AUUM71700372",
        "label": "Universal Music Australia Pty. Ltd.",
        "artist": "Tame Impala",
        "feature": "",
        "track_title": "Reality In Motion",
        "track_subTitle": "GUM Remix",
        "track_album": "Currents",
        "track_subAlbum": "B-Sides & Remixes",
                
        "track_mp3Url": "../material/albums/currentsB/realityInMotionGum_song4.mp3",
        "track_coverUrl": "../material/albums/currentsB/currentsB_albumCover.jfif",
                
        "genres": ["Pop", "Psychedelic Rock", "Synth pop", "Neo psychedelia", "Psychedelia"],
        "track_type": ["Track", "Remix"],
        "album_type": ["B-Side", "Remix"],
        "track_number": "4",
        "played": "0",

        "year": "2017",
        "release_date": "11/17/2017",
        "explicit": "No",
        "languages": "English",
               
        "writers": "Kevin Parker",
        "producers": "Kevin Parker",
        "engineers": "",
        "other_assistants": "",
                
        "key": "D major",
        "duration": "5:03",
        "bpm": "115",
        "popularity": "39",
        "energy": "66",
        "danceability": "76",
        "valence": "35",
        "acousticness": "7",
        "instrumentalness": "53",
        "liveness": "41",
        "speechiness": "10",
        "loudness": "-6",
    },
    {
        "id": "40",
        "ISRC": "AUUM71501365",
        "label": "Universal Music Australia Pty. Ltd.",
        "artist": "Tame Impala",
        "feature": "",
        "track_title": "Let It Happen",
        "track_subTitle": "Soulwax Remix",
        "track_album": "Currents",
        "track_subAlbum": "B-Sides & Remixes",
                
        "track_mp3Url": "../material/albums/currentsB/letItHappenSoulwax_song5.mp3",
        "track_coverUrl": "../material/albums/currentsB/currentsB_albumCover.jfif",
                
        "genres": ["Pop", "Psychedelic Rock", "Synth pop", "Neo psychedelia", "Psychedelia"],
        "track_type": ["Track", "Remix"],
        "album_type": ["B-Side", "Remix"],
        "track_number": "5",
        "played": "0",

        "year": "2017",
        "release_date": "11/16/2017",
        "explicit": "No",
        "languages": "English",
               
        "writers": "Kevin Parker",
        "producers": ["Kevin Parker", "Soulwax"],
        "engineers": "",
        "other_assistants": "",
                
        "key": "C# Minor",
        "duration": "9:17",
        "bpm": "125",
        "popularity": "57",
        "energy": "85",
        "danceability": "75",
        "valence": "77",
        "acousticness": "19",
        "instrumentalness": "81",
        "liveness": "11",
        "speechiness": "3",
        "loudness": "-5",
    },
]

const whereDoesTheDevilHide_EP = [
    {
        "id": "41",
        "ISRC": "USC4R2007455",
        "label": ["Easy Eye Sound", "Concord Music Group"],
        "artist": "Zella Day",
        "feature": "",
        "track_title": "People Are Strangers",
        "track_subTitle": "",
        "track_album": "Where Does The Devil Hide",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/whereDoesTheDevilHide/peopleAreStrangers_song1.mp3",
        "track_coverUrl": "../material/albums/whereDoesTheDevilHide/whereDoesTheDevilHide_albumCover.jfif",
                
        "genres": ["Alternative Indie", "Indie", "Alternative Pop"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "1",
        "played": "0",

        "year": "2020",
        "release_date": "08/28/2020",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Dan Auerbach", "Zella Day"],
        "producers": "Dan Auerbach",
        "engineers": ["Dan Auerbach", "M. Allen Parker"],
        "other_assistants": ["Sam Bacco", "Matt Combs", "Ray Jacildo", "Bobby Wood"],
                
        "key": "B minor",
        "duration": "2:59",
        "bpm": "68",
        "popularity": "43",
        "energy": "53",
        "danceability": "48",
        "valence": "46",
        "acousticness": "53",
        "instrumentalness": "0",
        "liveness": "12",
        "speechiness": "3",
        "loudness": "-7",
    },
    {
        "id": "42",
        "ISRC": "USC4R2007454",
        "label": ["Concord Music Group", "Easy Eye Sound"],
        "artist": "Zella Day",
        "feature": "",
        "track_title": "My Game",
        "track_subTitle": "",
        "track_album": "Where Does The Devil Hide",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/whereDoesTheDevilHide/myGame_song2.mp3",
        "track_coverUrl": "../material/albums/whereDoesTheDevilHide/whereDoesTheDevilHide_albumCover.jfif",
                
        "genres": ["Alternative Indie", "Indie Pop", "Indie", "Alternative Pop", "Funk", "Soft Rock"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "2",
        "played": "0",

        "year": "2020",
        "release_date": "08/28/2020",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Bobby Wood", "Dan Auerbach", "Zella Day"],
        "producers": "Dan Auerbach",
        "engineers": ["Dan Auerbach", "M. Allen Parker"],
        "other_assistants": ["Bobby Wood", "Dan Auerbach", "Sam Bacco", "Matt Combs", "Dave Roe", "Ray Jacildo"],
                
        "key": "D minor",
        "duration": "3:30",
        "bpm": "124",
        "popularity": "42",
        "energy": "78",
        "danceability": "70",
        "valence": "88",
        "acousticness": "24",
        "instrumentalness": "0",
        "liveness": "9",
        "speechiness": "3",
        "loudness": "-7",
    },
    {
        "id": "43",
        "ISRC": "USC4R2007456",
        "label": ["Easy Eye Sound", "Concord Music Group"],
        "artist": "Zella Day",
        "feature": "",
        "track_title": "Purple Haze",
        "track_subTitle": "",
        "track_album": "Where Does The Devil Hide",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/whereDoesTheDevilHide/purpleHaze_song3.mp3",
        "track_coverUrl": "../material/albums/whereDoesTheDevilHide/whereDoesTheDevilHide_albumCover.jfif",
                
        "genres": ["Pop", "Alternative", "Indie"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "3",
        "played": "0",

        "year": "2020",
        "release_date": "07/10/2020",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Dan Nigro", "Dan Auerbach", "Zella Day"],
        "producers": "Dan Auerbach",
        "engineers": ["Dan Auerbach", "M. Allen Parker"],
        "other_assistants": "",
                
        "key": "B minor",
        "duration": "3:19",
        "bpm": "125",
        "popularity": "46",
        "energy": "67",
        "danceability": "65",
        "valence": "59",
        "acousticness": "4",
        "instrumentalness": "1",
        "liveness": "14",
        "speechiness": "4",
        "loudness": "-8",
    },
    {
        "id": "44",
        "ISRC": "USC4R2007457",
        "label": ["Easy Eye Sound", "Concord Music Group"],
        "artist": "Zella Day",
        "feature": "",
        "track_title": "Only A Dream",
        "track_subTitle": "",
        "track_album": "Where Does The Devil Hide",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/whereDoesTheDevilHide/onlyADream_song4.mp3",
        "track_coverUrl": "../material/albums/whereDoesTheDevilHide/whereDoesTheDevilHide_albumCover.jfif",
                
        "genres": ["Pop", "Alternative", "Indie"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "4",
        "played": "0",

        "year": "2020",
        "release_date": "08/28/2020",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Dan Nigro", "Dan Auerbach", "Zella Day"],
        "producers": "Dan Auerbach",
        "engineers": "",
        "other_assistants": ["Dan Auerbach", "Ray Jacildo", "Bobby Wood", "Dave Roe", "Matt Combs"],
                
        "key": "C major",
        "duration": "3:30",
        "bpm": "120",
        "popularity": "41",
        "energy": "50",
        "danceability": "51",
        "valence": "36",
        "acousticness": "67",
        "instrumentalness": "0",
        "liveness": "22",
        "speechiness": "3",
        "loudness": "-7",
    },
    {
        "id": "45",
        "ISRC": "USC4R2007458",
        "label": ["Easy Eye Sound", "Concord Music Group"],
        "artist": "Zella Day",
        "feature": "",
        "track_title": "Benny My Dear",
        "track_subTitle": "",
        "track_album": "Where Does The Devil Hide",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/albums/whereDoesTheDevilHide/bennyMyDear_song5.mp3",
        "track_coverUrl": "../material/albums/whereDoesTheDevilHide/whereDoesTheDevilHide_albumCover.jfif",
                
        "genres": ["Pop", "Alternative", "Indie"],
        "track_type": "Track",
        "album_type": "EP",
        "track_number": "5",
        "played": "0",

        "year": "2020",
        "release_date": "08/28/2020",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Dan Auerbach", "Zella Day"],
        "producers": "Dan Auerbach",
        "engineers": ["Dan Auerbach", "M. Allen Parker"],
        "other_assistants": ["Bobby Wood", "Sam Bacco", "Dan Auerbach", "Dave Roe", "Ray Jacildo"],
                
        "key": "C major",
        "duration": "3:19",
        "bpm": "110",
        "popularity": "30",
        "energy": "69",
        "danceability": "55",
        "valence": "77",
        "acousticness": "35",
        "instrumentalness": "0",
        "liveness": "16",
        "speechiness": "3",
        "loudness": "-7",
    },
]

const albumLibrary = [seven_EP, currentsBSide_EP, myDearMelancholy_EP, whereDoesTheDevilHide_EP];

const musicLibrary = [
    {
        "id": "1",
        "ISRC": "QM42K1946534",
        "label": "Portwave",
        "artist": "Portwave",
        "feature": "",
        "track_title": "Shadow Lady",
        "track_subTitle": "",
        "track_album": "",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/shadowLady_song1.mp3",
        "track_coverUrl": "../material/song_artCovers/shadowLady_song1.jfif",
                
        "genres": "Electronic",
        "track_type": "Single",
        "album_type": "",
        "track_number": "",
        "played": "0",

        "year": "2014",
        "release_date": "01/05/2014",
        "explicit": "No",
        "languages": "English",
               
        "writers": "",
        "producers": "",
        "engineers": "",
        "other_assistants": "",
                
        "key": "Bb minor",
        "duration": "5:02",
        "bpm": "104",
        "popularity": "67",
        "energy": "87",
        "danceability": "56",
        "valence": "56",
        "acousticness": "0",
        "instrumentalness": "85",
        "liveness": "18",
        "speechiness": "7",
        "loudness": "-3",
    },
        {
        "id": "2",
        "ISRC": "QZF8N1986577",
        "label": "Revolution Records",
        "artist": "Mareux",
        "feature": "",
        "track_title": "The Perfect Girl",
        "track_subTitle": "",
        "track_album": "",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/thePerfectGirl_song2.mp3",
        "track_coverUrl": "../material/song_artCovers/thePerfectGirl_song2.jfif",
                
        "genres": ["Darkwave", "Synthwave", "Electronic"],
        "track_type": "Single",
        "album_type": "",
        "track_number": "",
        "played": "0",

        "year": "2019",
        "release_date": "10/13/2019",
        "explicit": "No",
        "languages": "English",
               
        "writers": "Aryan Ashtiani",
        "producers": "",
        "engineers": "",
        "other_assistants": "",
                
        "key": "Ab minor",
        "duration": "3:14",
        "bpm": "129",
        "popularity": "79",
        "energy": "89",
        "danceability": "49",
        "valence": "26",
        "acousticness": "0",
        "instrumentalness": "82",
        "liveness": "10",
        "speechiness": "9",
        "loudness": "-6",
    },
    {
        "id": "3",
        "ISRC": "USY251660155",
        "label": "Negative Gain Productions",
        "artist": ["Mr.Kitty", "XO LOVER"],
        "feature": "",
        "track_title": "after dark",
        "track_subTitle": "(slowed)",
        "track_album": "",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/afterDark_song3.mp3",
        "track_coverUrl": "../material/song_artCovers/afterDark_song3.jfif",
                
        "genres": ["Synthpop", "Synthwave", "Electronic"],
        "track_type": ["Single", "Remix"],
        "album_type": "",
        "track_number": "",
        "played": "0",

        "year": "2021",
        "release_date": "07/04/2021",
        "explicit": "No",
        "languages": "English",
               
        "writers": "",
        "producers": "",
        "engineers": "",
        "other_assistants": "",
                
        "key": "128",
        "duration": "4:36",
        "bpm": "128",
        "popularity": "81",
        "energy": "54",
        "danceability": "54",
        "valence": "4",
        "acousticness": "7",
        "instrumentalness": "27",
        "liveness": "8",
        "speechiness": "3",
        "loudness": "-10.4",
    },
    {
        "id": "4",
        "ISRC": "DEZ651364854",
        "label": "Dais Records",
        "artist": "Tempers",
        "feature": "",
        "track_title": "Undoing",
        "track_subTitle": "",
        "track_album": "Services",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/undoing_song4.mp3",
        "track_coverUrl": "../material/song_artCovers/undoing_song4.jfif",
                
        "genres": ["Synthpop", "Rock", "Electronic", "Dark Indie"],
        "track_type": "Track",
        "album_type": "Studio",
        "track_number": "2",
        "played": "0",

        "year": "2015",
        "release_date": "10/23/2015",
        "explicit": "No",
        "languages": "English",
               
        "writers": "",
        "producers": "",
        "engineers": "",
        "other_assistants": "",
                
        "key": "Bb major",
        "duration": "3:51",
        "bpm": "155",
        "popularity": "25",
        "energy": "89",
        "danceability": "35",
        "valence": "18",
        "acousticness": "5",
        "instrumentalness": "74",
        "liveness": "22",
        "speechiness": "4",
        "loudness": "-4",
    },
    {
        "id": "5",
        "ISRC": "USUM71111638",
        "label": ["Roc Nation", "RocAFella", "IDJ"],
        "artist": ["JAY-Z", "Kanye West"],
        "feature": "",
        "track_title": "Primetime",
        "track_subTitle": "",
        "track_album": "Watch The Throne",
        "track_subAlbum": "Deluxe",
                
        "track_mp3Url": "../material/songs_mp3/primetime_song5.mp3",
        "track_coverUrl": "../material/song_artCovers/primetime_song5.jfif",
                
        "genres": ["Hip-hop", "Rap"],
        "track_type": "Track",
        "album_type": "Deluxe",
        "track_number": "15",
        "played": "0",

        "year": "2011",
        "release_date": "10/08/2011",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["Maureen Reid", "Larry Smith", "No I.D.", "Russell Simmons", "JAY-Z", "Kanye West"],
        "producers": "",
        "engineers": ["Noah Goldstein", "MIKE DEAN"],
        "other_assistants": ["Ken Lewis", "Brent Kolatalo", "Dylan Wissing"],
                
        "key": "B minor",
        "duration": "3:19",
        "bpm": "85",
        "popularity": "54",
        "energy": "92",
        "danceability": "66",
        "valence": "47",
        "acousticness": "17",
        "instrumentalness": "0",
        "liveness": "31",
        "speechiness": "21",
        "loudness": "-4",
    },
    {
        "id": "6",
        "ISRC": "USUM71111678",
        "label": ["Roc Nation", "RocAFella", "IDJ"],
        "artist": ["JAY-Z", "Kanye West"],
        "feature": "Mr.Hudson",
        "track_title": "Why I Love You",
        "track_subTitle": "",
        "track_album": "Watch The Throne",
        "track_subAlbum": "Deluxe",
                
        "track_mp3Url": "../material/songs_mp3/whyILoveYou_song6.mp3",
        "track_coverUrl": "../material/song_artCovers/whyILoveYou_song6.jfif",
                
        "genres": ["Hip-hop", "Rap"],
        "track_type": "Track",
        "album_type": "Deluxe",
        "track_number": "12",
        "played": "0",

        "year": "2011",
        "release_date": "10/08/2011",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["Boom Bass", "Philippe Zdar", "Mary Sawyer", "Tony Camillo", "MIKE DEAN", "S. Joseph", "JAY-Z", "Kanye West"],
        "producers": "",
        "engineers": ["Noah Goldstein", "MIKE DEAN", "Anthony Kilhoffer"],
        "other_assistants": ["Mat Arnold", "MIKE DEAN", "Anthony Kilhoffer", "Chris “Hitchcock” Chorney"],
                
        "key": "F Major",
        "duration": "3:21",
        "bpm": "123",
        "popularity": "60",
        "energy": "81",
        "danceability": "48",
        "valence": "37",
        "acousticness": "3",
        "instrumentalness": "0",
        "liveness": "27",
        "speechiness": "4",
        "loudness": "-4",
    },
    {
        "id": "7",
        "ISRC": "USUM71307523",
        "label": ["G.O.O.D. Music", "Def Jam Recordings"],
        "artist": "Kanye West",
        "feature": "",
        "track_title": "Bound 2",
        "track_subTitle": "",
        "track_album": "Yeezus",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/bound2_song7.mp3",
        "track_coverUrl": "../material/song_artCovers/bound2_song7.jfif",
                
        "genres": ["Hip-hop", "Rap"],
        "track_type": "track",
        "album_type": "studio",
        "track_number": "10",
        "played": "0",

        "year": "2013",
        "release_date": "06/18/2013",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["John Legend", "No I.D.", "Lester Allen McKenzie", "Noah Goldstein", "MIKE DEAN", "The World Famous Tony Williams", "Ronnie Self", "Robert Dukes", "Bob Massey", "Norman Whiteside", "Sakiya Sandifer", "Malik Yusef", "CyHi The Prynce", "Elon Rutberg", "Che Pope", "Charlie Wilson" , "Kanye West"],
        "producers": "Rick Rubin",
        "engineers": ["Vlado Meller", "Manny Marroquin", "Anthony Kilhoffer", "Noah Goldstein", "Delbert Bowers", "Chris Galland"],
        "other_assistants": ["Charlie Wilson", "MIKE DEAN"],
                
        "key": "C# major",
        "duration": "3:49",
        "bpm": "149",
        "popularity": "82",
        "energy": "67",
        "danceability": "37",
        "valence": "31",
        "acousticness": "14",
        "instrumentalness": "0",
        "liveness": "11",
        "speechiness": "5",
        "loudness": "-3",
    },
    {
        "id": "8",
        "ISRC": "USUM71703084",
        "label": ["Interscope Records", "Top Dawg Entertainment", "Aftermath Entertainment"],
        "artist": "Kendrick Lamar",
        "feature": "",
        "track_title": "PRIDE.",
        "track_subTitle": "",
        "track_album": "DAMN.",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/pride._song8.mp3",
        "track_coverUrl": "../material/song_artCovers/pride._song8.jfif",
                
        "genres": ["Hip-hop", "R&B", "Rap", "Pop"],
        "track_type": "Track",
        "album_type": "Studio",
        "track_number": "7",
        "played": "0",

        "year": "2017",
        "release_date": "04/14/2017",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["Anna Wise", "Steve Lacy", "Kendrick Lamar"],
        "producers": "Bēkon",
        "engineers": ["Mike Bozzi", "Mixed by Ali", "Tyler Page", "Ya Boy N.O.I.S."],
        "other_assistants": ["Bēkon", "Anna Wise", "Steve Lacy"],
                
        "key": "E minor",
        "duration": "4:35",
        "bpm": "139",
        "popularity": "77",
        "energy": "54",
        "danceability": "67",
        "valence": "37",
        "acousticness": "8",
        "instrumentalness": "0",
        "liveness": "15",
        "speechiness": "6",
        "loudness": "-7",
    },

    {
        "id": "9",
        "ISRC": "FRZID0900480",
        "label": "Parlophone (France)",
        "artist": "David Guetta",
        "feature": "Kid Cudi",
        "track_title": "Memories",
        "track_subTitle": "",
        "track_album": "One Love",
        "track_subAlbum": "Deluxe",
                
        "track_mp3Url": "../material/songs_mp3/memories_song9.mp3",
        "track_coverUrl": "../material/song_artCovers/memories_song9.jfif",
                
        "genres": ["Pop", "EDM", "Rap", "Electronic", "House", "Dance"],
        "track_type": "track",
        "album_type": "Deluxe",
        "track_number": "3",
        "played": "0",

        "year": "2009",
        "release_date": "08/21/2009",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["Kid Cudi", "David Guetta", "Frédéric Riesterer"],
        "producers": ["David Guetta", "Frédéric Riesterer"],
        "engineers": "",
        "other_assistants": "",
                
        "key": "Ab major",
        "duration": "3:30",
        "bpm": "130",
        "popularity": "69",
        "energy": "87",
        "danceability": "56",
        "valence": "50",
        "acousticness": "0",
        "instrumentalness": "0",
        "liveness": "25",
        "speechiness": "34",
        "loudness": "-6",
    },
    {
        "id": "10",
        "ISRC": "DKEW50600101",
        "label": " Ultra Records",
        "artist": ["Enur", "Natasja"],
        "feature": "",
        "track_title": "Calabria 2007",
        "track_subTitle": "Radio Edit",
        "track_album": "",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/calabria2007_song10.mp3",
        "track_coverUrl": "../material/song_artCovers/calabria2007_song10.jfif",
                
        "genres": "",
        "track_type": "Radio Edit",
        "album_type": "",
        "track_number": "",
        "played": "0",

        "year": "2007",
        "release_date": "07/10/2007",
        "explicit": "No",
        "languages": "English",
               
        "writers": "",
        "producers": "",
        "engineers": "",
        "other_assistants": "",
                
        "key": "G major",
        "duration": "3:53",
        "bpm": "126",
        "popularity": "41",
        "energy": "55",
        "danceability": "89",
        "valence": "44",
        "acousticness": "1",
        "instrumentalness": "8",
        "liveness": "6",
        "speechiness": "19",
        "loudness": "-8",
    },
    {
        "id": "11",
        "ISRC": "USJI10600477",
        "label": ["Reservoir Media", "Jive Records"],
        "artist": "Justin Timberlake",
        "feature": "T.I.",
        "track_title": "My Love",
        "track_subTitle": "",
        "track_album": "FutureSex/LoveSounds",
        "track_subAlbum": "Deluxe Version",
                
        "track_mp3Url": "../material/songs_mp3/myLove_song11.mp3",
        "track_coverUrl": "../material/song_artCovers/myLove_song11.jfif",
                
        "genres": ["Pop", "R&B", "Rap"],
        "track_type": "Track",
        "album_type": "Deluxe",
        "track_number": "4",
        "played": "0",

        "year": "2006",
        "release_date": "09/13/2006",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["T.I.", "Timbaland", "Justin Timberlake", "Danja"],
        "producers": ["Danja", "Justin Timberlake", "Timbaland"],
        "engineers": ["Herb Powers", "Timbaland", "Jimmy Douglass", "Ethan Willoughby"],
        "other_assistants": "",
                
        "key": "B minor",
        "duration": "4:36",
        "bpm": "120",
        "popularity": "74",
        "energy": "68",
        "danceability": "77",
        "valence": "81",
        "acousticness": "28",
        "instrumentalness": "0",
        "liveness": "68",
        "speechiness": "22",
        "loudness": "-6",
    },
    {
        "id": "12",
        "ISRC": "GB28K1200052",
        "label": "Parlophone (France)",
        "artist": "David Guetta",
        "feature": ["Ne-Yo", "Akon"],
        "track_title": "Play Hard",
        "track_subTitle": "",
        "track_album": "Nothing But the Beat 2.0",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/playHard_song12.mp3",
        "track_coverUrl": "../material/song_artCovers/playHard_song12.jfif",
                
        "genres": ["Pop", "Dance", "House", "EDM"],
        "track_type": "Track",
        "album_type": "Studio",
        "track_number": "6",
        "played": "0",

        "year": "2011",
        "release_date": "10/24/2011",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Frédéric Riesterer, Giorgio Tuinfort, David Guetta, Akon & Ne-Yo"],
        "producers": ["Frédéric Riesterer", "Giorgio Tuinfort", "David Guetta"],
        "engineers": "",
        "other_assistants": "",
                
        "key": "Ab minor",
        "duration": "3:21",
        "bpm": "130",
        "popularity": "62",
        "energy": "92",
        "danceability": "69",
        "valence": "80",
        "acousticness": "17",
        "instrumentalness": "0",
        "liveness": "33",
        "speechiness": "5",
        "loudness": "-2",
    },
    {
        "id": "13",
        "ISRC": "NLA320119533",
        "label": ["EMI Group Limited", "Roadrunner Records"],
        "artist": "Nickelback",
        "feature": "",
        "track_title": "How You Remind Me",
        "track_subTitle": "",
        "track_album": "Silver Side Up",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/howYouRemindMe_song13.mp3",
        "track_coverUrl": "../material/song_artCovers/howYouRemindMe_song13.jfif",
                
        "genres": ["Rock", "Alternative Metal", "Alternative Rock", "Hard Rock", "Postgrunge"],
        "track_type": "Track",
        "album_type": "Studio",
        "track_number": "2",
        "played": "0",

        "year": "2001",
        "release_date": "09/11/2001",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Ryan Vikedal, Ryan Peake, Mike Kroeger & Chad Kroeger"],
        "producers": "Rick Parashar",
        "engineers": "",
        "other_assistants": "",
                
        "key": "Bb major",
        "duration": "3:44",
        "bpm": "172",
        "popularity": "81",
        "energy": "76",
        "danceability": "45",
        "valence": "54",
        "acousticness": "0",
        "instrumentalness": "0",
        "liveness": "10",
        "speechiness": "3",
        "loudness": "-5",
    },
    {
        "id": "14",
        "ISRC": "USJAY0300080",
        "label": "Interscope Records",
        "artist": "Maroon 5",
        "feature": "",
        "track_title": "This Love",
        "track_subTitle": "",
        "track_album": "Songs About Jane",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/thisLove_song14.mp3",
        "track_coverUrl": "../material/song_artCovers/thisLove_song14.jfif",
                
        "genres": ["Rock", "Pop", "Alternative Rock"],
        "track_type": "Track",
        "album_type": "Studio",
        "track_number": "2",
        "played": "0",

        "year": "2002",
        "release_date": "06/25/2002",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["James Valentine", "Michael Madden", "Ryan Dusick", "Jesse Carmichael", "Adam Levine"],
        "producers": ["Mark Endert", "Matt Vallace"],
        "engineers": ["Leon Zervos", "Mark Endert", "Mike Landolt", "Danny Wright", "Posie Muliadi"],
        "other_assistants": "",
                
        "key": "F minor",
        "duration": "3:26",
        "bpm": "95",
        "popularity": "70",
        "energy": "86",
        "danceability": "71",
        "valence": "81",
        "acousticness": "5",
        "instrumentalness": "0",
        "liveness": "9",
        "speechiness": "4",
        "loudness": "-5",
    },
    {
        "id": "15",
        "ISRC": "DEL211300741",
        "label": ["Ignition Records", "Republic Records", "Opaque", "Lichtdicht"],
        "artist": "Milky Chance",
        "feature": "",
        "track_title": "Stolen Dance",
        "track_subTitle": "",
        "track_album": "Sadnecessary",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/stolenDance_song15.mp3",
        "track_coverUrl": "../material/song_artCovers/stolenDance_song15.jfif",
                
        "genres": ["Indie Pop", "Pop", "Psychedelic Folk", "Folktronica"],
        "track_type": "Track",
        "album_type": "Studio",
        "track_number": "11",
        "played": "0",

        "year": "2014",
        "release_date": "06/20/2014",
        "explicit": "No",
        "languages": "English",
               
        "writers": "Clemens Rehbein",
        "producers": "",
        "engineers": "",
        "other_assistants": "",
                
        "key": "B major",
        "duration": "5:14",
        "bpm": "114",
        "popularity": "75",
        "energy": "58",
        "danceability": "89",
        "valence": "73",
        "acousticness": "43",
        "instrumentalness": "0",
        "liveness": "8",
        "speechiness": "4",
        "loudness": "-9",
    },
    {
        "id": "16",
        "ISRC": "USUM71203514",
        "label": "Interscope Records",
        "artist": "Maroon 5",
        "feature": "",
        "track_title": "One More Night",
        "track_subTitle": "",
        "track_album": "Overexposed",
        "track_subAlbum": "Deluxe",
                
        "track_mp3Url": "../material/songs_mp3/oneMoreNight_song16.mp3",
        "track_coverUrl": "../material/song_artCovers/oneMoreNight_song16.jfif",
                
        "genres": ["Pop", "Dance Pop"],
        "track_type": "Track",
        "album_type": "Deluxe",
        "track_number": "1",
        "played": "0",

        "year": "2012",
        "release_date": "06/19/2012",
        "explicit": "No",
        "languages": "English",
               
        "writers": ["Max Martin", "Savan Kotecha", "Shellback", "Adam Levine"],
        "producers": ["Shellback", "Max Martin"],
        "engineers": ["Max Martin", "Noah Passovoy", "John Hanes", "Șerban Ghenea", "Phil Seaford", "Eric Eylands"],
        "other_assistants": ["Shellback", "Max Martin", "Matt Flynn", "James Valentine", "Adam Levine", "Shellback", "PJ Morton"],
                
        "key": "F minor",
        "duration": "3:39",
        "bpm": "93",
        "popularity": "70",
        "energy": "82",
        "danceability": "72",
        "valence": "61",
        "acousticness": "4",
        "instrumentalness": "0",
        "liveness": "8",
        "speechiness": "3",
        "loudness": "-3",
    },
    {
        "id": "17",
        "ISRC": "USRC11803252",
        "label": ["A$AP Rocky Recordings, Polo Grounds Music, Sony Music Entertainment, A$AP Worldwide & RCA Records"],
        "artist": "A$AP Rocky",
        "feature": "",
        "track_title": "Sundress",
        "track_subTitle": "",
        "track_album": "",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/sundress_song17.mp3",
        "track_coverUrl": "../material/song_artCovers/sundress_song17.jfif",
                
        "genres": ["Psychedelic Pop", "Pop Rap", "Rap", "Indie Pop"],
        "track_type": "Single",
        "album_type": "",
        "track_number": "",
        "played": "0",

        "year": "2018",
        "release_date": "11/20/2018",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["Kevin Parker", "Hector Delgado", "Danger Mouse", "Syk Sense", "A$AP Rocky"],
        "producers": ["Syk Sense", "Danger Mouse", "A$AP Rocky", "Hector Delgado"],
        "engineers": ["Tatsuya Sato", "Andy Jackson 88", "Beatriz Artola", "Hector Delgado"],
        "other_assistants": "",
                
        "key": "F# major",
        "duration": "2:38",
        "bpm": "125",
        "popularity": "79",
        "energy": "71",
        "danceability": "72",
        "valence": "74",
        "acousticness": "18",
        "instrumentalness": "0",
        "liveness": "14",
        "speechiness": "6",
        "loudness": "-6",
    },
    {
        "id": "18",
        "ISRC": "AUUM71500303",
        "label": ["Interscope Records", "Modular Recordings"],
        "artist": "Tame Impala",
        "feature": "",
        "track_title": "The Less I Know the Better",
        "track_subTitle": "",
        "track_album": "Currents",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/theLessIKnowTheBetter_song18.mp3",
        "track_coverUrl": "../material/song_artCovers/theLessIKnowTheBetter_song18.jfif",
                
        "genres": ["Psychedelic Rock", "Psychedelic Pop", "Rock", "Alternative", "Indie", "Psychedelic", "Synthpop"],
        "track_type": "Track",
        "album_type": "Studio",
        "track_number": "7",
        "played": "0",

        "year": "2015",
        "release_date": "07/17/2015",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": "Kevin Parker",
        "producers": "Kevin Parker",
        "engineers": ["Greg Calbi", "Kevin Parker", "Rob Grant"],
        "other_assistants": "",
                
        "key": "E major",
        "duration": "3:36",
        "bpm": "117",
        "popularity": "86",
        "energy": "74",
        "danceability": "64",
        "valence": "79",
        "acousticness": "1",
        "instrumentalness": "1",
        "liveness": "17",
        "speechiness": "3",
        "loudness": "-4",
    },
    {
        "id": "19",
        "ISRC": "USAT21907692",
        "label": ["Epic Records", "Atlantic Records", "Cactus Jack Records", "WeRunItEnt", "Artist Partner Group"],
        "artist": "Don Toliver",
        "feature": ["Quavo", "Offset"],
        "track_title": "Had Enough",
        "track_subTitle": "",
        "track_album": "Heaven Or Hell",
        "track_subAlbum": "",
                
        "track_mp3Url": "../material/songs_mp3/hadEnough_song19.mp3",
        "track_coverUrl": "../material/song_artCovers/hadEnough_song19.jfif",
                
        "genres": ["Hip-hop", "Rap", "Cloud Rap"],
        "track_type": "Track",
        "album_type": "Studio",
        "track_number": "9",
        "played": "0",

        "year": "2020",
        "release_date": "03/13/2020",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["Cool", "Homer Steinweiss", "Dre", "Beyoncé", "Michael Herard", "James Fauntleroy", "JAY-Z", "Thomas Brenneck", "WondaGurl", "Leon Michels", "MIKE DEAN", "TM88", "Don Toliver", "Quavo & Offset"],
        "producers": ["CA$HPASSION", "Leon Michels", "MIKE DEAN", "TM88"],
        "engineers": ["MIKE DEAN", "JRich ENT", "Colton Eatmon", "Lemon Blue", "Kai Lasker", "Shawn Morenberg"],
        "other_assistants": "",
                
        "key": "D major",
        "duration": "2:37",
        "bpm": "148",
        "popularity": "67",
        "energy": "79",
        "danceability": "75",
        "valence": "67",
        "acousticness": "26",
        "instrumentalness": "0",
        "liveness": "13",
        "speechiness": "11",
        "loudness": "-5",
    },
    {
        "id": "20",
        "ISRC": "USUM72023838",
        "label": ["Republic Records", "Wicked Awesome Records"],
        "artist": "Kid Cudi",
        "feature": "",
        "track_title": "Tequila Shots",
        "track_subTitle": "",
        "track_album": "Man on the Moon III:",
        "track_subAlbum": "The Chosen",
                
        "track_mp3Url": "../material/songs_mp3/tequilaShots_song20.mp3",
        "track_coverUrl": "../material/song_artCovers/tequilaShots_song20.jfif",
        "genres": ["Psychedelic Rap", "Hip-hop", "Rap", "Trap"],
        "track_type": "Track",
        "album_type": ["Studio", "Series"],
        "track_number": "2",
        "played": "0",

        "year": "2020",
        "release_date": "12/11/2020",
        "explicit": "Yes",
        "languages": "English",
               
        "writers": ["Denzel Baptiste", "David Biral", "Dot Da Genius", "Kid Cudi"],
        "producers": ["Kid Cudi", "Dot Da Genius", "Take a Daytrip"],
        "engineers": ["Joe LaPorta", "William J. Sullivan", "Manny Marroquin"],
        "other_assistants": "",
                
        "key": "F minor",
        "duration": "3:13",
        "bpm": "90",
        "popularity": "79",
        "energy": "56",
        "danceability": "71",
        "valence": "22",
        "acousticness": "8",
        "instrumentalness": "0",
        "liveness": "53",
        "speechiness": "5",
        "loudness": "-7",
    },
]
    /* Home Library Set up */
    const mp3UrlLibrary = [];
    const albumData = [];   /*Line 2310 - playback test for switching different playlists*/
    musicLibrary.map(songs => mp3UrlLibrary.push(songs.track_mp3Url));
        
    albumLibrary.map((album) => {
        album.forEach(songs => {
            mp3UrlLibrary.push(songs.track_mp3Url);
            /*Line 2310 - Test for switching playlists*/
            albumData.push(songs);
        })
    });
    
    /***     General Functions       ***/
    function hasClass(elem, className) {
        if(elem == null){return false}
        if(elem.tagName == "path" || elem.tagName == "path" || elem.tagName == null){return false}
        return elem.classList.contains(className);
    }

    function hasSuperClass(elem, className) {
        if(elem == null){return false}
        if(elem.tagName == "path" || elem.tagName == "path" || elem.tagName == null){return false}
        return elem.className == (className);
    }
 
    function htmlSlice(element, number){return element.innerHTML.slice(number);}

    function wordSpace(str) {return str.split(" ");}
 
    function spaceTens(num){return num.toString().replace(/\B(?<!\.\d*)(?=(\d{1})+(?!\d))/g, " ")}

    function retrieveElmImg(image){
        const prodImgRetrieve = window.getComputedStyle(image).backgroundImage; 
        return prodImgRetrieve
    }

    function changeSVGFill(elem, color){
        elem.style.fill = color;
    }



    /*!                                                      App Structure

    There are 4 total sections but contentTabs holds 5 individual views (tabs)
      (1) appSettingsNav                                      section1      //Not Apart of Grid
      (2) librarySidebar                                      section2
      (3) contentTabs                                         section3
            Home (3)                                     tab1 
            Your Library (3)                             tab2                                             
            Listen Later (3)                             tab3                                             
            Search (3)                                   tab4                                               
            Playlist (3)                                 tab5           
      (4) playingNowSect                                      section4 /*

/***        (1) appSettingsNav                                                                   section1               ***/
    const settingNav = document.querySelector("div.appSettingsNav");
    const allTabs = document.querySelectorAll(".tab");
    allTabs.forEach(tabs => tabs.style.display = "none");
    document.querySelector("div.homeSection.tab.\\31 ").style.display = "block";
    

    /*Toggle transparent to black bg navbar on scroll*/
    allTabs.forEach(tabs => {
        tabs.addEventListener('scroll', function(event){
            let from = event.target
            let tabScroll = from.scrollTop > 0;
            settingNav.classList.toggle('scrolling-active', tabScroll);
        })
    })

    const userSettingsMenu = document.querySelector("div.userSettings");
    userSettingsMenu.style.display = "none";    /* userSettingsMenu style can't be found at run time so I have to manually set it*/

    document.body.addEventListener("click", function(event){
        const from = event.target;

        if(hasSuperClass(from, "settings mainBtnHeader 1") || hasSuperClass(from.parentElement,"settings mainBtnHeader 1")){
            (userSettingsMenu.style.display == "none") ? userSettingsMenu.style.display = "flex" : userSettingsMenu.style.display = "none";
        }
        if(hasClass(from, "appNavTabBtn") || hasClass(from.parentElement, "appNavTabBtn")){
            resetTabs = 0;
            allTabs.forEach(tabs => {
                resetTabs++;
                if(tabs.style.display == "block"){clickedTab = parseInt((tabs).className.slice(-1))-1;}

                /*Resets all tab icons colors just in case different tab order is pressed*/
                document.querySelector("p.sideBarHeader.\\3" + resetTabs).style.color = "#B3B3B3";
                changeSVGFill(document.querySelector("path.sideBarIcon" + resetTabs), "inherit");
            });

            allTabs[clickedTab].style.display = "none";     
            let arrowDirection = parseInt(from.classList.value.slice(-1));      /*checks if a tab is backwards(1) or forwards(2)*/
            (arrowDirection == 1)? clickedTab-- : clickedTab++

            if(clickedTab == allTabs.length-1 && arrowDirection == 2){     /*AllTabs.length only goes up to tab 4. It's unlikely someone would want to create a playlist on the spot*/
                clickedTab = 0;    
            }
            else if(clickedTab == -1 && arrowDirection == 1){
                clickedTab = 3;
            }
            allTabs[clickedTab].style.display = "block";    /*Display new tab display + color*/
            document.querySelector("p.sideBarHeader.\\3" + (clickedTab+1)).style.color = "#fff";
            changeSVGFill(document.querySelector("path.sideBarIcon" + (clickedTab+1)), "#fff");
            queueTab6.style.display = "none";
            changeSVGFill(queueSvgColor, "#6a6a6a");
        }
    });





/***        (2) librarySideBar                                                                   section2               ***/

    /**     Switch Between Tab Functionality            **/
    document.body.addEventListener("click", function(event){
        const from = event.target;

        /*If the button text, the button, or the svg is pressed, switch the tab (this order is shown in the if statement below*/
        if(hasClass(from, "sideBarHeader") || hasClass(from, "librarySideBar") && hasClass(from, "headerBtn")){
            resetTabs = 0;
            (hasClass(from.parentElement.nextElementSibling, "sideBarHeader")) ? clickedTab = parseInt((from.parentElement.nextElementSibling).className.slice(-1))-1 : clickedTab = parseInt(from.className.slice(-1))-1
            allTabs.forEach(tabs => {
                resetTabs++;
                tabs.scrollTop = 0;
                tabs.style.display = "none";
                document.querySelector("p.sideBarHeader.\\3" + resetTabs).style.color = "#B3B3B3";
                changeSVGFill(document.querySelector("path.sideBarIcon" + resetTabs), "inherit");
            });

            settingNav.classList.toggle('scrolling-active', false);
            allTabs[clickedTab].style.display = "block";
            document.querySelector("p.sideBarHeader.\\3" + (clickedTab+1)).style.color = "#fff";
            changeSVGFill(document.querySelector("path.sideBarIcon" + (clickedTab+1)), "#fff");
            queueTab6.style.display = "none";
            changeSVGFill(queueSvgColor, '#6a6a6a');
        }
        if(hasSuperClass(from, "bannerImage hideBtn")){(from.parentElement).style.display = "none";}      /* Hide Announcements Banner */
    });



/***        (3) contentTabs                                                                   section3               ***/
    /*Since most tabs rely on tab 5, Playlists, it will be placed first
    /***         Playlist (3)                                     tab5               ***/   
    const createPlaylistTab = document.querySelector("button.librarySideBar.headerBtn.\\35");
    const playlistName = document.querySelector("h1.newPlaylistName.\\31");
    const playlistTotalSongs = document.querySelector("div.newPlaylistUserSongs.\\31");
    const playlistRuntime = document.querySelector("div.newPlaylistUserTime.\\31");
    const finishedCreateBtn = document.querySelector("button.finishedPlaylistBtn");
        
    function refreshPlaylist(){
        songOrder = 0;          /*Playlists have different lengths. If songOrder doesn't reset to 0 when opening new playlists, 
                                a song number that doesn't exist will be called and throw an error*/
        playlistTrackCount = 1;
        const totalTracksPlaylist = document.querySelectorAll("button.newPlaylistSongs");
        totalTracksPlaylist.forEach(playlistSongs => {
            (document.querySelector("button.newPlaylistSongs.\\31") == playlistSongs) ? playlistSongs.style.display ="none" : playlistSongs.remove();
        })
    }
        
    /*This starts the process of playlist creation*/
    createPlaylistTab.addEventListener("click", function(){
        let newPlaylistName = prompt("Please enter a name for your Playlist");

        if (newPlaylistName == null || newPlaylistName == "" || newPlaylistName == "Downloaded Files" || createdPlaylistsName.includes(newPlaylistName)) {
            console.log("Please enter a valid Playlist Name");
        } 
        else {
            const currentPlaylistCover = playlistName.parentElement.previousElementSibling;
            currentPlaylistCover.style.backgroundImage = "url(" + "../material/appIcons/createPlaylist_icon.jpg)";

            playlistName.textContent = newPlaylistName;
            createPlaylistBox();
            refreshPlaylist();
            backwardsBtn.style.display = "none";
            playlistInfoFilterBtn.style.display = "none";
            finishedCreateBtn.style.display = "none";
            addNewSongsPlaylist.style.display = "block";
        }
    })

    /*Creates a playlist icon box in the "Your Library" Tab*/
    yourLibraryPlaylistCont = document.querySelector("div.yourLibrary.playlistCont.\\31");
    let playlistBoxes = 1;
    function createPlaylistBox(){ 
        playlistBoxes++;
        const newPlaylistBox = document.createElement("button");
        newPlaylistBox.classList.add("yourLibrary", "playlistBtnCont", playlistBoxes);
        yourLibraryPlaylistCont.appendChild(newPlaylistBox);

            const newPlaylistCover = document.createElement("div");
            newPlaylistCover.classList.add("yourLibrary", "playlistCover", playlistBoxes)
            newPlaylistCover.style.backgroundImage = "url(" + "../material/appIcons/createPlaylist_icon.jpg)";
            newPlaylistBox.appendChild(newPlaylistCover);

            const updatePlaylistName = document.createElement("div");
            updatePlaylistName.classList.add("yourLibrary", "playlistName", playlistBoxes);
            updatePlaylistName.textContent = playlistName.textContent;
            newPlaylistBox.appendChild(updatePlaylistName);
    }


        /*Creates the total playlist track divs but doesn't update it w/ song info*/
        let playlistTrackCount = 1;
        const allPlaylistTracksCont = document.querySelector("div.library.newPlaylistCont.\\31");
        function createPlaylistTrack(){
            const newPlaylistSongCont = document.createElement("button");
            newPlaylistSongCont.classList.add("newPlaylistSongs", playlistTrackCount);
            allPlaylistTracksCont.appendChild(newPlaylistSongCont);


                    const trackOrderCont = document.createElement("div");
                    trackOrderCont.classList.add("playlistSong", "orderCont", + playlistTrackCount);
                    newPlaylistSongCont.appendChild(trackOrderCont);

                            const trackOrderNumber = document.createElement("p");
                            trackOrderNumber.classList.add("playlistSong", "trackOrder", + playlistTrackCount);
                            trackOrderNumber.textContent = playlistTrackCount;
                            trackOrderCont.appendChild(trackOrderNumber);

                            const trackCoverImg = document.createElement("div");
                            trackCoverImg.classList.add("playlistSong", "trackImage", + playlistTrackCount);
                            trackOrderCont.appendChild(trackCoverImg);

                            const trackInfoCont = document.createElement("div");
                            trackInfoCont.classList.add("playlistSong", "trackInfoCont", + playlistTrackCount);
                            trackOrderCont.appendChild(trackInfoCont);

                                    const trackTitle = document.createElement("p");
                                    trackTitle.textContent = "Track Title";
                                    trackTitle.classList.add("playlistSong", "trackTitle", + playlistTrackCount); 
                                    trackInfoCont.appendChild(trackTitle);

                                    const trackArtist = document.createElement("p");
                                    trackArtist.textContent = "Artist";
                                    trackArtist.classList.add("playlistSong", "trackArtist", + playlistTrackCount); 
                                    trackInfoCont.appendChild(trackArtist);

                                    
                    const trackAlbumCont = document.createElement("div");
                    trackAlbumCont.classList.add("playlistSongs", "albumCont", + playlistTrackCount);
                    newPlaylistSongCont.appendChild(trackAlbumCont);

                            const trackAlbum = document.createElement("p");
                            trackAlbum.textContent = "Album Name";
                            trackAlbum.classList.add("playlistSong", "albumTitle", playlistTrackCount);
                            trackAlbumCont.appendChild(trackAlbum);


                    const trackDateAddedCont = document.createElement("div");
                    trackDateAddedCont.classList.add("playlistSongs", "dateAddedCont", + playlistTrackCount);
                    newPlaylistSongCont.appendChild(trackDateAddedCont);

                            const dateAddedText = document.createElement("p");
                            dateAddedText.textContent = "Sep 4, 2021";
                            dateAddedText.classList.add("playlistSong", "dateAdded", playlistTrackCount);
                            trackDateAddedCont.appendChild(dateAddedText);
                    
                            
                    const trackDurationCont = document.createElement("div");
                    trackDurationCont.classList.add("playlistSongs", "durationCont", + playlistTrackCount);
                    newPlaylistSongCont.appendChild(trackDurationCont);

                            const trackDurationText = document.createElement("p");
                            trackDurationText.textContent = "0:00";
                            trackDurationText.classList.add("playlistSong", "durationTime", playlistTrackCount);
                            trackDurationCont.appendChild(trackDurationText);


                    /*Song Drop Down Options Nav*/
                    const songNav = document.createElement("nav");
                    songNav.classList.add("song-nav", + playlistTrackCount);
                    newPlaylistSongCont.appendChild(songNav);

                        const songNavUL = document.createElement("ul");
                        songNavUL.classList.add("song-nav-ul");
                        songNav.appendChild(songNavUL);

                            const settingGearLI = document.createElement("li");
                            settingGearLI.classList.add("liHeader1", "optionHeader");
                            songNavUL.appendChild(settingGearLI);

                                const settingGearIcon = document.createElement("div");
                                settingGearIcon.classList.add("menuGear");
                                settingGearLI.appendChild(settingGearIcon);

                            const level1UL = document.createElement("ul");
                            level1UL.classList.add("level1");
                            songNavUL.appendChild(level1UL);

                                const subNavUL = document.createElement("ul");
                                subNavUL.classList.add("sub-nav-ul");
                                level1UL.appendChild(subNavUL);

                                    const listenLaterOptionLI = document.createElement("li");
                                    listenLaterOptionLI.classList.add("liHeader", "optionHeader");
                                    listenLaterOptionLI.textContent = "Listen Later";
                                    subNavUL.appendChild(listenLaterOptionLI);

                                        /*Listen Later Menu is the first option*/
                                        const level2UL = document.createElement("ul");      /*Gets attatched to Listen Later LI because sub menu belongs to it*/
                                        level2UL.classList.add("level2");
                                        listenLaterOptionLI.appendChild(level2UL);

                                            const priorityLaterOptionLI = document.createElement("li");
                                            priorityLaterOptionLI.classList.add("optionHeader", "later", playlistTrackCount);
                                            priorityLaterOptionLI.textContent = "Priority";
                                            level2UL.appendChild(priorityLaterOptionLI);

                                            const nonEssLaterOptionLI = document.createElement("li");
                                            nonEssLaterOptionLI.classList.add("optionHeader", "later", playlistTrackCount);
                                            nonEssLaterOptionLI.textContent = "Non Essential";
                                            level2UL.appendChild(nonEssLaterOptionLI);

                                            const eventuallyLaterOptionLI = document.createElement("li");
                                            eventuallyLaterOptionLI.classList.add("optionHeader", "later", playlistTrackCount);
                                            eventuallyLaterOptionLI.textContent = "Eventually";
                                            level2UL.appendChild(eventuallyLaterOptionLI);


                                    const likeOptionLI = document.createElement("li");
                                    likeOptionLI.classList.add("liHeader", "optionHeader");
                                    likeOptionLI.textContent = "Like";
                                    subNavUL.appendChild(likeOptionLI);

                                    const queueOptionLI = document.createElement("li");
                                    queueOptionLI.classList.add("liHeader", "optionHeader");
                                    queueOptionLI.textContent = "Queue";
                                    subNavUL.appendChild(queueOptionLI);

                                    const addPlayOptionLI = document.createElement("li");
                                    addPlayOptionLI.classList.add("liHeader", "optionHeader");
                                    addPlayOptionLI.textContent = "Add to Playlist";
                                    subNavUL.appendChild(addPlayOptionLI);
        }


    /*Helper function for the createDownloadedPlaylist() function*/
    function updateTrackInfo(trackNum){
        /*Since DOM creation requires a base element, playlistTrackCount starts at 1 so it doesn't recreate the 1st div. */
        let trackAdjust = playlistTrackCount;   /*This causes the [1]//2nd song to be skipped. Trackadjust fixes it by going back down the array by 1*/
        document.querySelector("div.playlistSong.trackImage.\\3" + trackNum).style.backgroundImage = "url(\"" + chosenPlaylist[trackAdjust-1].track_coverUrl + "\")";
        document.querySelector("p.playlistSong.trackTitle.\\3" + trackNum).textContent = chosenPlaylist[trackAdjust-1].track_title;
        document.querySelector("p.playlistSong.trackArtist.\\3" + trackNum).textContent = chosenPlaylist[trackAdjust-1].artist;
        document.querySelector("p.playlistSong.albumTitle.\\3" + trackNum).textContent = chosenPlaylist[trackAdjust-1].track_album;
        document.querySelector("p.playlistSong.dateAdded.\\3" + trackNum).textContent =  new Date(chosenPlaylist[trackAdjust-1].release_date).toDateString().slice(4);
        document.querySelector("p.playlistSong.durationTime.\\3" + trackNum).textContent = chosenPlaylist[trackAdjust-1].duration;
    }

    /*Updates the playlist content with photos, names, and music */
    function createDownloadedPlaylist(){
    document.querySelector("div.playlistSong.trackImage.\\31").style.backgroundImage = "url(\"" + chosenPlaylist[0].track_coverUrl; + "\")";
        document.querySelector("p.playlistSong.trackTitle.\\31").textContent = chosenPlaylist[0].track_title;
        document.querySelector("p.playlistSong.trackArtist.\\31").textContent = chosenPlaylist[0].artist;
        document.querySelector("p.playlistSong.albumTitle.\\31").textContent = chosenPlaylist[0].track_album;
        document.querySelector("p.playlistSong.dateAdded.\\31").textContent = new Date(chosenPlaylist[0].release_date).toDateString().slice(4);
        document.querySelector("p.playlistSong.durationTime.\\31").textContent = chosenPlaylist[0].duration;

        if(playlistTrackCount < 9){updateTrackInfo(playlistTrackCount);}
        else if(playlistTrackCount < chosenPlaylist.length+1){updateTrackInfo(spaceTens(playlistTrackCount));}
    };  

    let playlistShow = musicLibrary;
    let playcreateMode = false; /*Allows songs to be added to a playlist*/

    /*All helper functions for creating a new playlist*/
    let unsortedPlaylist;
    function removePlaySortFilters(playlist){
        currentInfoFilter = 0;
        infoFilterText.textContent = "Sort";
        unsortedPlaylist = playlist;
    }

    function removePlaylistModifers(){
        addNewSongsPlaylist.style.display = "none";
        finishedCreateBtn.style.display = "none";
    }
    function openPlaylistTab(){
        allTabs.forEach(tabs => tabs.style.display = "none");
        allTabs[4].style.display = "block";
        removePlaylistModifers();
    }

    function playlistCreation(){
        playlistTrackCount++;
        createPlaylistTrack();
        createDownloadedPlaylist();
    }

    function musicSource(array){
        playlistShow = array;
        chosenPlaylist = array;
        resetQueue();
    }

    function newPlaylistPrep(){
        refreshPlaylist();
        document.querySelector("button.newPlaylistSongs.\\31").style.display = "flex";
    }


    /**         Sort Playlists Filters            **/
    function sortAlpha(list, _attribute){
        if (list !== undefined && list !== null) {
            list.sort((a, b) => {
            if (a[_attribute] > b[_attribute]) {return 1;}
            if (a[_attribute] < b[_attribute]) {return -1;}
                return 0;
            })
        }
        return list
    }

    function sortByDate(list, _attribute){
        if (list !== undefined && list !== null) {
            list.sort((a, b) => {
            if ((new Date(a[_attribute])) > (new Date(b[_attribute]))) {return 1;}
            if ((new Date(a[_attribute])) < (new Date(b[_attribute]))) {return -1}
                return 0;
            })
        }
        return list
    }

    function createSortPlaylist(attribute){
        newPlaylistPrep();
        musicSource(sortAlpha(playlistShow.slice(), attribute));
        for(let f=1; f<playlistShow.length; f++){playlistCreation();}
        openPlaylistTab();
    }

    let currentInfoFilter = 0;
    const playlistInfoFilters = ["Sort", "Title", "Artists", "Date", "Duration"];
    const playlistInfoFilterBtn = document.querySelector("button.playlistFilterBtn.\\31");
    const infoFilterText = document.querySelector("div.playlistFilterIcon.\\31");

    playlistInfoFilterBtn.addEventListener("click", function(){
        if(currentInfoFilter > playlistInfoFilters.length-2){       /*iterates through playlistInfoFilters on each click*/
            currentInfoFilter = -1;
        }
        currentInfoFilter++;
        infoFilterText.textContent = playlistInfoFilters[currentInfoFilter];

        switch(playlistInfoFilters[currentInfoFilter]){
            case "Sort": 
                newPlaylistPrep();
                musicSource(unsortedPlaylist);
                for(let f=1; f<unsortedPlaylist.length; f++){playlistCreation();}
                openPlaylistTab();
                break;

            case "Title": 
                createSortPlaylist('track_title');
                break;
                
            case "Artists":
                createSortPlaylist('artist');
                break;

            case "Date":
                newPlaylistPrep();
                musicSource(sortByDate(playlistShow.slice(), 'release_date'));      /*had to use sortByDate to filter dates*/
                for(let f=1; f<playlistShow.length; f++){playlistCreation();}
                openPlaylistTab();   
                break;

            case "Duration":
                createSortPlaylist('duration');
                break;
        }
    })


    /***        Your Library (3)                                     tab2               ***/   
    document.body.addEventListener("click", function(event){        /* Opens Playlists */
        const from = event.target;

        if(hasSuperClass(from, "yourLibrary playlistBtnCont 0")){
            resetBackwardsMode();
            let recentPlayImg = retrieveElmImg(from.firstElementChild);
            const playlistImg = playlistName.parentElement.previousElementSibling;
            playlistImg.style.backgroundImage = "url(\"../" + recentPlayImg.slice(-41);
            playlistName.textContent = "Recently Played";
            if(recent10){
                newPlaylistPrep();
                let unique = [ ...new Set(recent10) ];    /*Removes duplicate songs*/
                if(unique.length < 5){
                    playlistShow = unique;
                    chosenPlaylist = unique;
                    shuffleMode = false;
                    changeSVGFill(document.querySelector("path.songShuffleplayBackIcon1"),"#6a6a6a")
                    changeSVGFill(document.querySelector("path.songShuffleplayBackIcon2"), "#6a6a6a");
                    console.log("Shuffle doesn't support playlists with less than 5 songs");
                }
                else{musicSource(unique);}
                
                for(let f=1; f<playlistShow.length; f++){playlistCreation();}
                removePlaySortFilters(unique);
            }
            else{newPlaylistPrep();}
            openPlaylistTab();
        }

        if(hasSuperClass(from, "yourLibrary playlistBtnCont 1")){
            let downloadedPlayImg = retrieveElmImg(from.firstElementChild);
            const playlistImg = playlistName.parentElement.previousElementSibling;
            playlistImg.style.backgroundImage = "url(\"../" + downloadedPlayImg.slice(-44);
            playlistName.textContent = "Downloaded Files";

            resetBackwardsMode();   
            newPlaylistPrep();
            musicSource(musicLibrary);
            for(let f=1; f<playlistShow.length; f++){playlistCreation();}
            openPlaylistTab();
            removePlaySortFilters(musicLibrary);
        }
            
        if(hasClass(from, "playlistBtnCont") && !hasSuperClass(from, "yourLibrary playlistBtnCont 1") && !hasSuperClass(from, "yourLibrary playlistBtnCont 0")){

            if(window["'" + from.lastElementChild.textContent + "'"] == undefined){     /*Prevents playlist creation error from empty playlists. Adding more songs to a playlist will be added in the future*/
                return console.log("Playlist can't be opened. It has no Songs");
            }

            refreshPlaylist();
            document.querySelector("button.newPlaylistSongs.\\31").style.display = "flex";
            playlistName.textContent = from.lastElementChild.textContent;
            musicSource(window["'" + playlistName.textContent + "'"]);
            for(let f=1; f<playlistShow.length; f++){playlistCreation();}
            openPlaylistTab();

            const newPlaylistImg =  retrieveElmImg(document.querySelector("div.playlistSong.trackImage.\\31")).slice(106); /*DeployedDiff const newPlaylistImg =  retrieveElmImg(document.querySelector("div.playlistSong.trackImage.\\31")).slice(43); */
            const currentPlaylistCover = playlistName.parentElement.previousElementSibling;
            currentPlaylistCover.style.backgroundImage = "url(\"../" + newPlaylistImg;
            removePlaySortFilters(window["'" + playlistName.textContent + "'"]);
        }

        /*If any part of the Song Button is pressed, it will be played*/
        if(hasClass(from, "newPlaylistSongs") || hasClass(from, "playlistSong") &&  hasClass(from, "orderCont") || hasClass(from, "playlistSongs") && hasClass(from, "albumCont") 
            || hasClass(from, "playlistSongs") && hasClass(from, "dateAddedCont") || hasClass(from, "playlistSongs") && hasClass(from, "durationCont")){

            let clickedTrack = parseInt(from.className.slice(-2));   /*slice(-2) limits total range from 0-99*/
            const song = new Audio(playlistShow[clickedTrack-1].track_mp3Url);
            song.volume = appVolume;
            playPauseToggle = false;
            recentlyPlayedAudio.push(song);
            recentlyPlayedPlaylist.push(playlistShow[clickedTrack-1]);
            recent10 = recentlyPlayedPlaylist.slice(Math.max(recentlyPlayedPlaylist.length - 10, 0));

            stopAll();
            stopLaterSongs();   
            if(songFilterMode == true){updateAudioFilt(song);}
            song.play();
            updateSongTime();
            songOrder = clickedTrack-1;
            nowPlayingInfo(playlistShow[songOrder]);

            if(playcreateMode == true){
                /*(window["'" + playlistName.textContent + "'"]).push(clickedTrack-1);  Sets up object references*/
                (window["'" + playlistName.textContent + "'"]).push(musicLibrary[clickedTrack-1]);      /*copies objects*/
            }
        }
    });


    /*Add songs to a new Playlist*/
    const createdPlaylists = [];
    const createdPlaylistsName = [];
    const addNewSongsPlaylist = document.querySelector("button.addSongsPlaylistBtn");
    addNewSongsPlaylist.addEventListener("click", function(){       
        resetBackwardsMode();
        playcreateMode = true;
        finishedCreateBtn.style.display = "initial";
        addNewSongsPlaylist.style.display = "none";

        window["'" + playlistName.textContent + "'"] = new Array();
        createdPlaylists.push(window["'" + playlistName.textContent + "'"]);
        createdPlaylistsName.push(playlistName.textContent);
        newPlaylistPrep();               /*since we're pulling from the music library. We'll have to revise this when adding from other playlists. Will be fun*/
        musicSource(musicLibrary);
        for(let f=1; f<musicLibrary.length; f++){playlistCreation();}

        const newPlaylistImg =  retrieveElmImg(document.querySelector("div.playlistSong.trackImage.\\31")).slice(106);  /*DeployedDiff const newPlaylistImg =  retrieveElmImg(document.querySelector("div.playlistSong.trackImage.\\31")).slice(43);*/
        const currentPlaylistCover = playlistName.parentElement.previousElementSibling;
        currentPlaylistCover.style.backgroundImage = "url(\"../" + newPlaylistImg;
        document.querySelectorAll(".song-nav").forEach(songOption => {songOption.style.visibility = "hidden";});    /*Hides Song Options. Since Playlists are recreated when opened, I don't have to make them visible again*/
    })

    /*Listens when new playlist creation is finished*/
    document.body.addEventListener("click", function(event){
        const from = event.target;  
        if(hasClass(from, "finishedPlaylistBtn")){
            resetBackwardsMode();
            playcreateMode = false;
            finishedCreateBtn.style.display = "none";
            backwardsBtn.style.display = "block";
            playlistInfoFilterBtn.style.display = "block";
                       
            newPlaylistPrep();
            musicSource(window["'" + playlistName.textContent + "'"]);
               
            /*update playlistBox art cover w/ first song*/
            if(playlistBoxes < 10){document.querySelector("div.yourLibrary.playlistCover.\\3" + playlistBoxes).style.backgroundImage = "url('" + window["'" + playlistName.textContent + "'"][0].track_coverUrl + "')";}
            else{document.querySelector("div.yourLibrary.playlistCover.\\3" + spaceTens(playlistBoxes)).style.backgroundImage ="url('" + window["'" + playlistName.textContent + "'"][0].track_coverUrl + "')";}

            for(let f=1; f<playlistShow.length; f++){playlistCreation();}
            const newPlaylistImg =  retrieveElmImg(document.querySelector("div.playlistSong.trackImage.\\31")).slice(106); /*DeployedDiff const newPlaylistImg =  retrieveElmImg(document.querySelector("div.playlistSong.trackImage.\\31")).slice(43);*/
            const currentPlaylistCover = playlistName.parentElement.previousElementSibling;
            currentPlaylistCover.style.backgroundImage = "url(\"../" + newPlaylistImg;
            document.querySelector("nav.song-nav").style.visibility = "initial";     /*The 1st track has to be set to initial since it never gets destroyed*/
        }
    });



    /***        Listen Later (3)                                     tab3               ***/   
    function allowDrop(ev) {ev.preventDefault();}

    function drag(ev) {ev.dataTransfer.setData("text", ev.target.className);}

    /*I rewrote drag to grab the parent element instead. This is what allows the handle bar to work by grabbing all child elements instead of the individual item*/
    function dragEntire(ev) {ev.dataTransfer.setData("text", (ev.target.parentElement).className);}

    function drop(ev) {
        ev.preventDefault();
        let data = ev.dataTransfer.getData("text");
        ev.target.appendChild(document.getElementsByClassName(data)[0]);

        /*Checks each dropzone and sees if "Add a Song" state is on*/
        if(ev.target.firstElementChild.style.display != "none"){
            ev.target.firstElementChild.style.display = "none"; /*Makes the "Add a Song" text disappear*/
            ev.target.firstElementChild.nextElementSibling.style.display = "none"; /*Makes the cover image disappear*/
        }
    }

    /*     Creates a new song element w/ handle bars*/
    let priorityListCount = 1;
    let nonEssListCount = 1;
    let eventuallyListCount = 1;
    const priorityZoneDiv = document.querySelector("div.priorityList.dropzone");
    const nonEssZoneDiv = document.querySelector("div.nonEssentialList.dropzone");
    const eventuallyZoneDiv = document.querySelector("div.eventuallyList.dropzone");
    const allDropzones = [priorityZoneDiv, nonEssZoneDiv, eventuallyZoneDiv];

       
       /*Drag and Drop Song SVG's - these functions are added later to createLaterDNDTrack*/
        function createHandlebarSvg(){
            let handleBarSvg = document.createElementNS("http://www.w3.org/2000/svg", 'svg');   /*Creates a path for SVG*/
            handleBarSvg.setAttribute("aria-hidden", "true");
            handleBarSvg.setAttribute("role", "img");
            handleBarSvg.setAttribute("height", "24");
            handleBarSvg.setAttribute("width", "18");
            handleBarSvg.setAttribute("preserveAspectRatio", "xMidYMid meet");
            handleBarSvg.setAttribute("viewBox", "0 0 48 48");

                let gClass = document.createElementNS("http://www.w3.org/2000/svg", "g");
                    gClass.setAttribute("fill", "#fff");
                    gClass.setAttribute("fill-rule", "evenodd");
                    gClass.setAttribute("clip-rule", "evenodd");
                    handleBarSvg.appendChild(gClass);

                        let path1 = document.createElementNS("http://www.w3.org/2000/svg", 'path');     
                        let path2 = document.createElementNS("http://www.w3.org/2000/svg", 'path'); 

                            /*These create the dotted columns for the handle bar. (Path 1 = left, Path 2 = right)*/
                            path1.setAttribute('d', "M19 10C19 12.2091 17.2091 14 15 14C12.7909 14 11 12.2091 11 10C11 7.79086 12.7909 6 15 6C17.2091 6 19 7.79086 19 10ZM15 28C17.2091 28 19 26.2091 19 24C19 21.7909 17.2091 20 15 20C12.7909 20 11 21.7909 11 24C11 26.2091 12.7909 28 15 28ZM15 42C17.2091 42 19 40.2091 19 38C19 35.7909 17.2091 34 15 34C12.7909 34 11 35.7909 11 38C11 40.2091 12.7909 42 15 42Z");
                            path2.setAttribute('d', "M37 10C37 12.2091 35.2091 14 33 14C30.7909 14 29 12.2091 29 10C29 7.79086 30.7909 6 33 6C35.2091 6 37 7.79086 37 10ZM33 28C35.2091 28 37 26.2091 37 24C37 21.7909 35.2091 20 33 20C30.7909 20 29 21.7909 29 24C29 26.2091 30.7909 28 33 28ZM33 42C35.2091 42 37 40.2091 37 38C37 35.7909 35.2091 34 33 34C30.7909 34 29 35.7909 29 38C29 40.2091 30.7909 42 33 42Z");
                            gClass.appendChild(path1);
                            gClass.appendChild(path2);

                            return handleBarSvg;
       }

       function createPlayBtnSvg(){
            let playBtnSvg = document.createElementNS("http://www.w3.org/2000/svg", 'svg');  
            playBtnSvg.setAttribute("aria-hidden", "true");
            playBtnSvg.setAttribute("role", "img");
            playBtnSvg.setAttribute("height", "24");
            playBtnSvg.setAttribute("width", "24");
            playBtnSvg.setAttribute("preserveAspectRatio", "xMidYMid meet");
            playBtnSvg.setAttribute("viewBox", "0 0 24 24");

                let path1 = document.createElementNS("http://www.w3.org/2000/svg", 'path');    
                path1.setAttribute("fill", "#fff"); 
                path1.setAttribute('d', "m15 12.33l-6 4.33V8l6 4.33Z");
                playBtnSvg.appendChild(path1);

                return playBtnSvg;
       }



        function createLaterDNDTrack(dropzone, listname, dragSongCount){
            const listenSongCont = document.createElement("div");
            listenSongCont.classList.add(listname, "listenSongCont", dragSongCount);
            dropzone.appendChild(listenSongCont);

                    const handleBar = document.createElement("div");
                    handleBar.classList.add("songHandleBar");
                    handleBar.draggable = true;         /*these attributes make dynamic songs draggable/droppable*/
                    handleBar.ondragstart = dragEntire;
                    listenSongCont.appendChild(handleBar);

                    const handleBarIcon = createHandlebarSvg();
                    handleBar.appendChild(handleBarIcon);
                    
                    const songBtnCont = document.createElement("button");
                    songBtnCont.classList.add(listname, "SongBtnCont", dragSongCount)
                    listenSongCont.appendChild(songBtnCont);

                        const listenTrackImage = document.createElement("div");
                        listenTrackImage.classList.add(listname, "listenTrackImage", dragSongCount)
                        songBtnCont.appendChild(listenTrackImage);

                        const listenOrderCont = document.createElement("div");
                        listenOrderCont.classList.add(listname, "listenOrderCont", dragSongCount)
                        songBtnCont.appendChild(listenOrderCont);

                            const listenTrackInfoCont = document.createElement("div");
                            listenTrackInfoCont.classList.add(listname, "listenTrackInfoCont", dragSongCount)
                            listenOrderCont.appendChild(listenTrackInfoCont);

                                const listenTrackTitle = document.createElement("p");
                                listenTrackTitle.classList.add(listname, "listenTrackTitle", dragSongCount)
                                listenTrackInfoCont.appendChild(listenTrackTitle);

                                const listenTrackArtist = document.createElement("p");
                                listenTrackArtist.classList.add(listname, "listenTrackArtist", dragSongCount)
                                listenTrackInfoCont.appendChild(listenTrackArtist);

                        const listenDurationCont = document.createElement("div");
                        listenDurationCont.classList.add(listname, "listenTrackInfoCont", dragSongCount)
                        songBtnCont.appendChild(listenDurationCont);

                            const listenAlbumTitle = document.createElement("p");
                            listenAlbumTitle.classList.add(listname, "listenAlbumTitle", dragSongCount)
                            listenDurationCont.appendChild(listenAlbumTitle);

                            const listenDurationTime = document.createElement("p");
                            listenDurationTime.classList.add(listname, "listenDurationTime", dragSongCount)
                            listenDurationCont.appendChild(listenDurationTime);
                        
                    const listenLaterPause = document.createElement("button");
                    listenLaterPause.classList.add(listname, "listenLaterPause", dragSongCount);
                    listenSongCont.appendChild(listenLaterPause);

                    const pauseBtnSvg = createPlayBtnSvg();
                    listenLaterPause.appendChild(pauseBtnSvg);
        }

    function updatelaterTrackInfo(listname, trackNum, playlistSong){
        document.querySelector("div." + listname + ".listenTrackImage.\\3" + trackNum).style.backgroundImage = "url(\"" + playlistShow[playlistSong].track_coverUrl; + "\")";
        document.querySelector("p." + listname + ".listenTrackTitle.\\3" + trackNum).textContent = playlistShow[playlistSong].track_title;
        document.querySelector("p." + listname + ".listenTrackArtist.\\3" + trackNum).textContent = playlistShow[playlistSong].artist;
        document.querySelector("p." + listname + ".listenAlbumTitle.\\3" + trackNum).textContent = playlistShow[playlistSong].track_album;
        document.querySelector("p." + listname + ".listenDurationTime.\\3" + trackNum).textContent = playlistShow[playlistSong].duration;
    }


    /*makes the listen later base songs hidden on launch*/
    document.querySelector(".prioritySong.listenSongCont.\\31").style.display = "none";
    document.querySelector(".nonEssSong.listenSongCont.\\31").style.display = "none";
    document.querySelector("div.eventuallySong.listenSongCont.\\31").style.display = "none";
    

    /*Adds a song to the Listen Later from any playlist*/
    const addedLaterOrder = [];
    let laterSongMap = new Object();
    document.body.addEventListener("click", function(event){
        const from = event.target;

/*SongNumOrder produces an error because some elements don't have a class (mainly SVG's). Since this element is function scoped, try catch is a good solution*/
/*It's also a poor declaration because it will attempt to parse every string, leading to NaN's.*/
try{
        let songNumOrder = parseInt(from.className.slice(-2));  /*slice(-2) works because spaces are allowed and removed by parseInt*/
        if(hasSuperClass(from, ("optionHeader later " + songNumOrder)) && !(addedLaterOrder.includes(playlistShow[songNumOrder-1].track_title))){   
            songNumOrder = songNumOrder-1;  /*adjusted since number 0 is included in array*/
            addedLaterOrder.push(playlistShow[songNumOrder].track_title);       /*This prevents duplicates by adding it to the array and the check above checks if the current song is in that list array*/
            laterSongMap[playlistShow[songNumOrder].track_title] = playlistShow[songNumOrder].track_mp3Url;

            if(from.textContent == "Priority"){
                if(priorityListCount == 1){
                    priorityListCount++;
                    updatelaterTrackInfo("prioritySong", 1, songNumOrder);
                    document.querySelector(".prioritySong.listenSongCont.\\31").style.display = "flex";   /*displays base song and allows it to be overridden*/   
                    document.querySelector("p.priorityList.dropzoneHeader.\\31").style.display = "none";  /*Removes "add a song" state from listen later dropzones*/
                    document.querySelector("div.priorityList.dropzoneImage.\\31").style.display = "none";  
                }
                else if (priorityListCount < 9){
                    priorityListCount++;
                    createLaterDNDTrack(priorityZoneDiv, "prioritySong", priorityListCount);
                    updatelaterTrackInfo("prioritySong", priorityListCount, songNumOrder);
                }
                else{
                    priorityListCount++;
                    createLaterDNDTrack(priorityZoneDiv, "prioritySong", priorityListCount);
                    updatelaterTrackInfo("prioritySong", spaceTens(priorityListCount), songNumOrder);
                }          
            }

            if(from.textContent == "Non Essential"){
                if(nonEssListCount == 1){
                    nonEssListCount++;
                    updatelaterTrackInfo("nonEssSong", 1, songNumOrder);
                    document.querySelector(".nonEssSong.listenSongCont.\\31").style.display = "flex";
                    document.querySelector("p.nonEssentialList.dropzoneHeader.\\31").style.display = "none";
                    document.querySelector("div.nonEssentialList.dropzoneImage.\\31").style.display = "none";  
                }
                else if (nonEssListCount < 9){
                    nonEssListCount++;
                    createLaterDNDTrack(nonEssZoneDiv, "nonEssSong", nonEssListCount);
                    updatelaterTrackInfo("nonEssSong", nonEssListCount, songNumOrder);
                }
                else{
                    nonEssListCount++;
                    createLaterDNDTrack(nonEssZoneDiv, "nonEssSong", nonEssListCount);
                    updatelaterTrackInfo("nonEssSong", spaceTens(nonEssListCount), songNumOrder);
                }
            }

            if(from.textContent == "Eventually"){
                if(eventuallyListCount == 1){
                    eventuallyListCount++;
                    updatelaterTrackInfo("eventuallySong", 1, songNumOrder);
                    document.querySelector("div.eventuallySong.listenSongCont.\\31").style.display = "flex";
                    document.querySelector("p.eventuallyList.dropzoneHeader.\\31").style.display = "none";
                    document.querySelector("div.eventuallyList.dropzoneImage.\\31").style.display = "none";  
                }
                else if (eventuallyListCount < 9){
                    eventuallyListCount++;
                    createLaterDNDTrack(eventuallyZoneDiv, "eventuallySong", eventuallyListCount);
                    updatelaterTrackInfo("eventuallySong", eventuallyListCount, songNumOrder);
                }
                else{
                    eventuallyListCount++;
                    createLaterDNDTrack(eventuallyZoneDiv, "eventuallySong", eventuallyListCount);
                    updatelaterTrackInfo("eventuallySong", spaceTens(eventuallyListCount), songNumOrder);
                }
            }
        }
}
catch{}     
    });


    function stopLaterSongs(){
        listenedLaterSongs.forEach(playedSongs => {playedSongs.pause();})
    }
    const listenedLaterSongs = [];
    const listenedLaterDivs = [];
    let listenLaterPause;

    /*Play Listen Later Songs*/
    document.body.addEventListener("click", function(event){
        const from = event.target;
        if(hasClass(from, "SongBtnCont")){    
            listenLaterPause = false; 
            let songName = (from.firstElementChild.nextElementSibling.firstElementChild.firstElementChild).textContent;
            laterSong = new Audio(laterSongMap[songName]);

            listenedLaterDivs.push(from.parentElement);
            listenedLaterSongs.push(laterSong);

            stopAll();
            stopLaterSongs();
            laterSong.play();
            listenedLaterDivs.forEach(laterSongDivs => {        /*reset all listenLaterSongs pause buttons*/
                laterSongDivs.lastElementChild.firstElementChild.outerHTML = '<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="#fff" d="m15 12.33l-6 4.33V8l6 4.33Z"></path></svg>';
            });
            from.nextElementSibling.firstElementChild.outerHTML = '<svg role="img" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid meet" width="16" height="16" viewBox="0 0 24 24"><path fill="#fff" d="M8 7h3v10H8zm5 0h3v10h-3z"/></svg>';

            pauseBtn.firstElementChild.outerHTML = '<svg role="img" height="16" width="16" viewBox="0 0 16 16"><path d="M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"></path></svg>';
            playPauseToggle = true;
        }

        if(hasClass(from, "listenLaterPause")){
            /*If a pause button from another song is pressed, the pause button's parent element div will be checked against the last pause button parent div. If they are the same, the function will run. If they aren't, it won't run. */
            if(listenLaterPause == false && (listenedLaterDivs[listenedLaterDivs.length-1] == from.parentElement)){
                (listenedLaterSongs[listenedLaterSongs.length-1]).pause();
                listenLaterPause = true;
                from.firstElementChild.outerHTML = '<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="#fff" d="m15 12.33l-6 4.33V8l6 4.33Z"></path></svg>';
            }
            else if (listenLaterPause == true && (listenedLaterDivs[listenedLaterDivs.length-1] == from.parentElement)){
                listenedLaterSongs[listenedLaterSongs.length-1].play();
                listenLaterPause = false;
                updateSongTime();
                from.firstElementChild.outerHTML = '<svg role="img" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid meet" width="16" height="16" viewBox="0 0 24 24"><path fill="#fff" d="M8 7h3v10H8zm5 0h3v10h-3z"/></svg>';

                pauseBtn.firstElementChild.outerHTML = '<svg role="img" height="16" width="16" viewBox="0 0 16 16"><path d="M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"></path></svg>';
                stopAll();
                playPauseToggle = true;
            }
        }
    })


    /***        Home (3)                                     tab1               ***/   
    /***        Search (3)                                     tab4               ***/   
    document.body.addEventListener("click", function(event){           /*Listens for EP Albums from both Home tab and Search tab*/
        const from = event.target;

        if(hasClass(from, "homeContentContAlbumCont") || (hasClass(from, "homeContentCont") && hasClass(from, "albumInfoCover"))){
            epOrderNum = parseInt(from.className.slice(-1)-1);               
            playlistName.textContent = albumLibrary[epOrderNum][1].track_album + albumLibrary[epOrderNum][1].track_subAlbum;
            const playlistImg = playlistName.parentElement.previousElementSibling;
            playlistImg.style.backgroundImage = "url(\"" + albumLibrary[epOrderNum][1].track_coverUrl + "\")";
            resetBackwardsMode();        
            newPlaylistPrep();
            musicSource(albumLibrary[epOrderNum]);
            removePlaySortFilters(albumLibrary[epOrderNum]);

            for(let f=1; f<playlistShow.length; f++){playlistCreation();}    
            openPlaylistTab();
        }
        if(hasClass(from, "recentSearchAlbumCont") || (hasClass(from, "recentSearch") && hasClass(from, "albumInfoCover"))){
            epOrderNum = parseInt(from.className.slice(-1)-1);               
            playlistName.textContent = albumLibrary[epOrderNum][1].track_album + albumLibrary[epOrderNum][1].track_subAlbum;
            const playlistImg = playlistName.parentElement.previousElementSibling;
            playlistImg.style.backgroundImage = "url(\"" + albumLibrary[epOrderNum][1].track_coverUrl + "\")";
            resetBackwardsMode();        
            newPlaylistPrep();
            musicSource(albumLibrary[epOrderNum]);
            removePlaySortFilters(albumLibrary[epOrderNum]);

            for(let f=1; f<playlistShow.length; f++){playlistCreation();}     
            openPlaylistTab();
        }

    });  




/***        (4) playingNowSect                                                                   section4               ***/
    /*  Playback HTML Buttons */
    const skipBackBtn = document.querySelector("button.songSkip.Setting.\\31");
    const pauseBtn = document.querySelector("button.songSkip.Setting.\\32");
    const skipForwardBtn = document.querySelector("button.songSkip.Setting.\\33");
    let songOrder = 0;  /*Grabs current playlist and is updated based on what song is playing*/

    /* Current songPlaying HTML Info */
    const currentSong = document.querySelector("p.songPlayingName.\\31");
    const currentAlbum = document.querySelector("p.songPlayingAlbum.\\31");
    const currentAlbumCover = document.querySelector("div.songPlayingAlbum.Image.\\31");
    const currentSongTime = document.querySelector("p.songProgressSec");
    const currentSongDuration = document.querySelector("p.songProgressSec.total");  
    const currentSongProgress = document.querySelector("div.songShown.ProgBar.\\32")
    currentSongDuration.textContent = "0:30";


    /*  Playback Functions Setup    */
    const recentlyPlayedAudio = [];    
    const recentlyPlayedPlaylist = []    
    let recent10;
    let playPauseToggle = false;       /*Switch toggle for paused songs*/

    function stopAll() {
        recentlyPlayedAudio.forEach(function(songs) {           /*This array will need to be updated as it expands*/
            songs.pause();
            songs.currentTime = 0;
        });
    }

    const songTimeIntervals = [];
    function updateSongTime() {
        pauseBtn.firstElementChild.outerHTML = '<svg role="img" height="16" width="16" viewBox="0 0 16 16"><path d="M2.7 1a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7H2.7zm8 0a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7h-2.6z"></path></svg>'
        let currentInterval = setInterval(function() {
            songTimeIntervals.push(currentInterval);     /*Interval will run infinitely if no interaction happens so we'll store all intervals and clear them on pause*/
            const songSeconds = (Math.floor(recentlyPlayedAudio[recentlyPlayedAudio.length-1].currentTime));

            if(songSeconds % 60 < 10){
                currentSongTime.textContent = "0:0" + songSeconds % 60;
                currentSongProgress.style.width = ((songSeconds % 60)/30)*100 + '%';
            }
            else {
                currentSongTime.textContent = "0:" + songSeconds % 60;
                currentSongProgress.style.width = ((songSeconds % 60)/30)*100 + '%';
            }
            if(songSeconds % 60 == 30){clearInterval(currentInterval);}
        }, 0);
    }

    function updatePlaylistSong(chosenPlaylist){
        const song = new Audio(chosenPlaylist[songOrder].track_mp3Url);
        song.volume = appVolume;
        playButtonToggle = false;
        recentlyPlayedAudio.push(song);
        recentlyPlayedPlaylist.push(chosenPlaylist[songOrder]);
        recent10 = recentlyPlayedPlaylist.slice(Math.max(recentlyPlayedPlaylist.length - 10, 0));
        
        stopAll();
        if(songFilterMode == true){updateAudioFilt(song);}
        song.play();
    }

    function nowPlayingInfo(songData){
        currentSong.textContent = songData.track_title;
        currentAlbum.textContent = songData.track_album;
        currentAlbumCover.style.backgroundImage = "url(\"" + songData.track_coverUrl + "\")";
    }

    /**                       Playback Functions                                **/
    /*Queue Feature*/
    const queueBtn = document.querySelector("button.songSkip.Setting.\\36");
    const queueSvgColor = document.querySelector("path.songQueueplayBackIcon1");
    const queueTab6 = document.querySelector("div.yourLibraryQueueSectTab6");
    queueBtn.addEventListener("click", function(){
        if(queueSvgColor.style.fill == 'rgb(106, 106, 106)' || queueSvgColor.style.fill == ''){
            changeSVGFill(queueSvgColor, '#fff');
            queueTab6.style.display = "block";
        }   
        else{
            changeSVGFill(queueSvgColor, '#6a6a6a');
            queueTab6.style.display = "none";
        }
    });

    function hasDuplicates(list) {
        const removeDups = new Set(list);
        return list.length !== removeDups.size;
    }

    function createNewQueueList(totalQs, numRange){
        let newList =[];
        let i = 0;
        if(totalQs > numRange){return console.log("Please increase the number range");} //Prevents infinite loop

        do{
            i++;
            newList.push(Math.floor(Math.random() * numRange));
            if(hasDuplicates(newList)){
                newList.pop();
                i--;
            }
        }
        while(i !== totalQs);
        return newList;
    }

    function addRandToQueue(list, numRange){
        let newList = [...list];
        let i = 0;
        newList.shift();
        
        do{
            i++;
            newList.push(Math.floor(Math.random() * numRange));
            if(hasDuplicates(newList)){
                newList.pop();
                i--;
            }
        }
        while(i !== 1);
        return newList;
    }

    function createRegList(totalQs, limit){
        let base = songOrder;
        let newList = [];
        for(let i=0; i<totalQs; i++){
            (base == limit-1) ? base = 0 : base++;
            newList.push(base);
        }
        return newList;
    }

    function resetQueue(){
        if(shuffleMode == true){currentQueueList = createNewQueueList(5, playlistShow.length);}
        else{currentQueueList = createRegList(5, playlistShow.length);}
    }

    /*    Shuffle Feature   */
    let currentQueueList = [];
    let shuffleMode = false;
    let lastSongOrder;
    const shuffleBtn = document.querySelector("button.songSkip.Setting.\\34")
    shuffleBtn.addEventListener("click", function(){
        const shufTopArr= document.querySelector("path.songShuffleplayBackIcon1");
        const shufBottomArr = document.querySelector("path.songShuffleplayBackIcon2");
        shuffleMode = !shuffleMode;
        if(shuffleMode == true){
            changeSVGFill(shufTopArr, "#fff");
            changeSVGFill(shufBottomArr, "#fff");
            if(playlistShow.length > 4){currentQueueList = createNewQueueList(5, playlistShow.length);}
            else{
                shuffleMode = false;
                changeSVGFill(shufTopArr, "#6a6a6a");
                changeSVGFill(shufBottomArr, "#6a6a6a");
            }
        }
        else{
            changeSVGFill(shufTopArr, "#6a6a6a");
            changeSVGFill(shufBottomArr, "#6a6a6a");
        }
    });

    /*    Repeat Feature   */
    let repeatCycleMode = false;
    const repeatCycleBtn = document.querySelector("button.songSkip.Setting.\\35")
    repeatCycleBtn.addEventListener("click", function(){
        repeatCycleMode = !repeatCycleMode;
        const repeatIcon = document.querySelector("path.songRepeatplayBackIcon1");
        (repeatCycleMode == true)? changeSVGFill(repeatIcon, "#fff") : changeSVGFill(repeatIcon, "#6a6a6a");
    });
    
    let chosenPlaylist;
    chosenPlaylist = musicLibrary;
    document.body.addEventListener("click", function(event){    /*Initially, A body listener function was used but changed since a listener would be created EVERYTIME the function was called.*/
        const from = event.target;

        /* Playback Last Song */
        if(from == skipBackBtn || from == skipBackBtn.firstElementChild || from == skipBackBtn.firstElementChild.firstElementChild){
            if(shuffleMode == true){
                songOrder = currentQueueList[0];
                currentQueueList = addRandToQueue(currentQueueList, playlistShow.length);
                if(songOrder == -1 || songOrder == lastSongOrder){songOrder = Math.floor(Math.random() * playlistShow.length);}
            }
            else{
                (songOrder == 0) ? songOrder = chosenPlaylist.length-1 : songOrder--;    
            }

            if(repeatCycleMode == true){songOrder = lastSongOrder;}
            updatePlaylistSong(chosenPlaylist);
            nowPlayingInfo(chosenPlaylist[songOrder]);
            updateSongTime();
            stopLaterSongs();
            playPauseToggle = false;
            listenedLaterDivs.forEach(laterSongDivs => {        /*reset all listenLaterSongs pause buttons*/
                laterSongDivs.lastElementChild.firstElementChild.outerHTML = '<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="#fff" d="m15 12.33l-6 4.33V8l6 4.33Z"></path></svg>';
            });
            lastSongOrder = songOrder;      /*Since this variable will eventually get stuck in a loop, I have to play random songs. This variable last helps avoid a song playing twice in a row*/
        }

        /* Pause Current Song */
        if(from == pauseBtn || from == pauseBtn.firstElementChild || from == pauseBtn.firstElementChild.firstElementChild){
            if(playPauseToggle == false){
                (recentlyPlayedAudio[recentlyPlayedAudio.length-1]).pause();
                playPauseToggle = true;
                songTimeIntervals.forEach(f => clearInterval(f));   /*clears all intervals to avoid timer from running in background*/
                pauseBtn.firstElementChild.outerHTML = '<svg role="img" height="16" width="16" viewBox="0 0 16 16"><path d="M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"></path></svg>';
            }
            else{
                recentlyPlayedAudio[recentlyPlayedAudio.length-1].play();
                playPauseToggle = false;
                updateSongTime();
                if(currentSongFilt == getAudioFilterVar[3]){updateSongGradual();}       // Returns to last Interval to make audioFilter work
            }
            stopLaterSongs();
            listenedLaterDivs.forEach(laterSongDivs => {        /*reset all listenLaterSongs pause buttons*/
                laterSongDivs.lastElementChild.firstElementChild.outerHTML = '<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="#fff" d="m15 12.33l-6 4.33V8l6 4.33Z"></path></svg>';
            });
        }

        /* Play Next Song */
        if(from == skipForwardBtn || from == skipForwardBtn.firstElementChild || from == skipForwardBtn.firstElementChild.firstElementChild){
            if(shuffleMode == true){
                songOrder = currentQueueList[0];
                currentQueueList = addRandToQueue(currentQueueList, playlistShow.length);
                if(songOrder == -1 || songOrder == lastSongOrder){songOrder = Math.floor(Math.random() * playlistShow.length);}
            }
            else{(songOrder == chosenPlaylist.length-1) ? songOrder = 0 : songOrder++; }

            if(repeatCycleMode == true){songOrder = lastSongOrder;}
            updatePlaylistSong(chosenPlaylist);
            nowPlayingInfo(chosenPlaylist[songOrder]);
            updateSongTime();
            stopLaterSongs();
            playPauseToggle = false;
            listenedLaterDivs.forEach(laterSongDivs => {        /*reset all listenLaterSongs pause buttons*/
                laterSongDivs.lastElementChild.firstElementChild.outerHTML = '<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="#fff" d="m15 12.33l-6 4.33V8l6 4.33Z"></path></svg>';
            });
            lastSongOrder = songOrder;
        }
       
        /* Modify Song Time w/ Touch */
        if(hasSuperClass(from, (currentSongProgress.className)) || hasSuperClass(from, (currentSongProgress.parentElement.className) || hasSuperClass(from, "songProgressSecCont"))){
            let newSongTime = event.offsetX/(currentSongProgress.parentElement.clientWidth) * 30;
            recentlyPlayedAudio[recentlyPlayedAudio.length-1].currentTime = newSongTime;

            newSongTime = Math.floor(newSongTime)
            if(newSongTime % 60 < 10){
                currentSongTime.textContent = "0:0" + newSongTime;
                currentSongProgress.style.width = (newSongTime/30)*100 + '%';
            }
            else {
                currentSongTime.textContent = "0:" + newSongTime;
                currentSongProgress.style.width = (newSongTime/30)*100 + '%';
            }
        }
    })

    /*      Volume Controls             */
    const muteSong = document.querySelector("button.songMuteBtn");
    const volumeBar = document.querySelector("div.volumeEmpty.ProgBar.\\31");
    let appVolume = 1.0;
    function muteVolume(){
        appVolume = 0;
        (recentlyPlayedAudio[recentlyPlayedAudio.length-1]).volume = 0;
        document.querySelector("div.volumeShown.ProgBar.\\32").style.width = '0%';
        muteSong.firstElementChild.firstElementChild.outerHTML = '<svg role="img" height="16" width="16" viewBox="0 0 16 16"><path fill="#6a6a6a" d="M13.86 5.47a.75.75 0 00-1.061 0l-1.47 1.47-1.47-1.47A.75.75 0 008.8 6.53L10.269 8l-1.47 1.47a.75.75 0 101.06 1.06l1.47-1.47 1.47 1.47a.75.75 0 001.06-1.06L12.39 8l1.47-1.47a.75.75 0 000-1.06z"></path><path fill="#6a6a6a" d="M10.116 1.5A.75.75 0 008.991.85l-6.925 4a3.642 3.642 0 00-1.33 4.967 3.639 3.639 0 001.33 1.332l6.925 4a.75.75 0 001.125-.649v-1.906a4.73 4.73 0 01-1.5-.694v1.3L2.817 9.852a2.141 2.141 0 01-.781-2.92c.187-.324.456-.594.78-.782l5.8-3.35v1.3c.45-.313.956-.55 1.5-.694V1.5z"></path></svg>'
    }

    let previousVolume;
    muteSong.addEventListener("click", function(){
        if((recentlyPlayedAudio[recentlyPlayedAudio.length-1]).volume > 0){
            previousVolume = appVolume; /*Stores the current volume before muting the app. If the user unmutes with the mute button, they'll return to their previous volume*/
            muteVolume();
        }
        else{
            appVolume = previousVolume;
            (recentlyPlayedAudio[recentlyPlayedAudio.length-1]).volume = previousVolume;
            document.querySelector("div.volumeShown.ProgBar.\\32").style.width = (previousVolume/1.0)*100 + "%";
            muteSong.firstElementChild.firstElementChild.outerHTML = '<svg role="img" height="16" width="16" viewBox="0 0 16 16"><path fill="#6a6a6a" d="M9.741.85a.75.75 0 01.375.65v13a.75.75 0 01-1.125.65l-6.925-4a3.642 3.642 0 01-1.33-4.967 3.639 3.639 0 011.33-1.332l6.925-4a.75.75 0 01.75 0zm-6.924 5.3a2.139 2.139 0 000 3.7l5.8 3.35V2.8l-5.8 3.35zm8.683 4.29V5.56a2.75 2.75 0 010 4.88z"></path><path fill="#6a6a6a" d="M11.5 13.614a5.752 5.752 0 000-11.228v1.55a4.252 4.252 0 010 8.127v1.55z"></path></svg>'
        }
    })

    volumeBar.addEventListener("click", function(event){            
        if(event.offsetX/volumeBar.clientWidth <= 0){   /*sometimes, the offsetX gives a negative number. This prevents that*/
            muteVolume();   /*volumeBar.clientWidth grabs the progress bar's current width and event.offsetX grabs the exact position of the progress bar's width that was touched*/
        }
        else{
            appVolume = (event.offsetX/volumeBar.clientWidth);
            (recentlyPlayedAudio[recentlyPlayedAudio.length-1]).volume = (event.offsetX/volumeBar.clientWidth);
            document.querySelector("div.volumeShown.ProgBar.\\32").style.width = ((event.offsetX/volumeBar.clientWidth)*100) + '%';
            muteSong.firstElementChild.firstElementChild.outerHTML = '<svg role="img" height="16" width="16" viewBox="0 0 16 16"><path fill="#6a6a6a" d="M9.741.85a.75.75 0 01.375.65v13a.75.75 0 01-1.125.65l-6.925-4a3.642 3.642 0 01-1.33-4.967 3.639 3.639 0 011.33-1.332l6.925-4a.75.75 0 01.75 0zm-6.924 5.3a2.139 2.139 0 000 3.7l5.8 3.35V2.8l-5.8 3.35zm8.683 4.29V5.56a2.75 2.75 0 010 4.88z"></path><path fill="#6a6a6a" d="M11.5 13.614a5.752 5.752 0 000-11.228v1.55a4.252 4.252 0 010 8.127v1.55z"></path></svg>'        
        }
    });


    /*      Allows home library to be available immediately         */
    playPauseToggle = true;
    nowPlayingInfo(musicLibrary [0]);
    startSong = new Audio(mp3UrlLibrary[0]);
    recentlyPlayedAudio.push(startSong);
    recentlyPlayedPlaylist.push(musicLibrary[0]);
    
    /*backwards playlist toggle*/
    let backwardsMode = false;       /*A great idea would be making backwards mode inaccessible in the scope so it can't be modified whenever. This may be a major issue I keep repeating thoughout my code*/
    function resetBackwardsMode(){    
        backwardsMode = false; 
        backwardsBtn.firstElementChild.firstElementChild.outerHTML = '<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M11 15V5H4a1 1 0 1 1 0-2h16a1 1 0 0 1 0 2h-7v10h2.24c.15 0 .297.042.421.12c.35.219.444.663.211.991l-3.24 4.57a.74.74 0 0 1-.21.199a.79.79 0 0 1-1.054-.198l-3.24-4.57A.685.685 0 0 1 8 15.714c0-.395.34-.715.76-.715H11Zm9-6a1 1 0 0 1 0 2h-5V9h5ZM8 9h1v2H4a1 1 0 0 1 0-2h4Z"/></svg>'
    }

    const backwardsBtn = document.querySelector("button.playlistBackwardsBtn");
    backwardsBtn.addEventListener("click", function(){
        backwardsMode = !backwardsMode;

        if(backwardsMode){
            backwardsBtn.firstElementChild.firstElementChild.outerHTML = '<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g transform="rotate(180 12 12)"><path fill="currentColor" d="M11 15V5H4a1 1 0 1 1 0-2h16a1 1 0 0 1 0 2h-7v10h2.24c.15 0 .297.042.421.12c.35.219.444.663.211.991l-3.24 4.57a.74.74 0 0 1-.21.199a.79.79 0 0 1-1.054-.198l-3.24-4.57A.685.685 0 0 1 8 15.714c0-.395.34-.715.76-.715H11Zm9-6a1 1 0 0 1 0 2h-5V9h5ZM8 9h1v2H4a1 1 0 0 1 0-2h4Z"/></g></svg>';
        }
        else{
            backwardsBtn.firstElementChild.firstElementChild.outerHTML = '<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="24" height="24" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M11 15V5H4a1 1 0 1 1 0-2h16a1 1 0 0 1 0 2h-7v10h2.24c.15 0 .297.042.421.12c.35.219.444.663.211.991l-3.24 4.57a.74.74 0 0 1-.21.199a.79.79 0 0 1-1.054-.198l-3.24-4.57A.685.685 0 0 1 8 15.714c0-.395.34-.715.76-.715H11Zm9-6a1 1 0 0 1 0 2h-5V9h5ZM8 9h1v2H4a1 1 0 0 1 0-2h4Z"/></svg>'
        }

        const reverseArr = [...playlistShow].reverse();     /*Since reverse() rewrites the original array (destructive), I will use spread to get a copy, then reverse*/
            newPlaylistPrep();
            musicSource(reverseArr);

            for(let f=1; f<playlistShow.length; f++){
                playlistCreation();
            }
        openPlaylistTab();
    })


    /***        Queue (3)                                     tab6               ***/   
    /*  Song Audio Filters  */
    let currentSongFilt;
    let songFilterMode = false;
    const getAudioFilterVar = ({
        1: 'Slowed',
        2: 'Nightcore',
        3: 'Gradual',
        4: 'Custom'
    })

    function resetAudioNTime(){
        songTimeIntervals.forEach(f => clearInterval(f));
        recentlyPlayedAudio.forEach(f => resetSongFilter(f)); 
    }

    function resetSongFilter(enterSong){
        enterSong.playbackRate = 1;
        enterSong.preservesPitch = true;
    }

    const makeAudioFilt = (function() {
        //Incl'd Defaults to avoid errors during setAudio/playAudio if only one elem is updated
        let appSpeed = 1.0; 
        let appPitch = true;
        let appSong = recentlyPlayedAudio[recentlyPlayedAudio.length-1];

        return {
            updateAllEffects: function(newSpeed, newPitch) {
                appSpeed = newSpeed;
                appPitch = newPitch;
            },
            updateSpeed: function(newSpeed) {
                appSpeed = newSpeed;
            },
            updatePitch: function(newPitch) {
                appPitch = newPitch;
            },
            setAudio: function(song) {
                appSong = song;
                song.playbackRate = appSpeed;
                song.preservesPitch = appPitch;
            },
            playAudio: function(){
                appSong.play();
            },
            getAudio: function(){
                return appSong;
            }
        };
    })();
    const customUserPreset = makeAudioFilt;

    /*The logical thing to do would be to use makeAudioFilt to make the following functions but
    The names on these functions are shorter, to the point, and redirect back to the filter definition */
    function createAudioFiltEffect(song, speed, keepPitch){
        song.playbackRate = speed;
        song.preservesPitch = keepPitch;
    }

    function slowSongPitch(enterSong){
        enterSong.playbackRate = 0.85;
        enterSong.preservesPitch = false;
    }

    function nightCoreSong(enterSong){
        enterSong.playbackRate = 1.08;
        enterSong.preservesPitch = false;
    }

    function updateSongGradual() {
        let currentInterval2 = setInterval(function() {   
            const recentSong = recentlyPlayedAudio[recentlyPlayedAudio.length-1];
            const songSeconds = (Math.floor(recentSong.currentTime));
            songTimeIntervals.push(currentInterval2);  

            if(songSeconds < 7){
                createAudioFiltEffect(recentSong, 0.8, false);
                setAudioEffectProgBar("60%", "100%");
                document.querySelector("p.songEffectNum.\\31").textContent = 0.8;
            }
            if(songSeconds > 7 && songSeconds < 15){
                createAudioFiltEffect(recentSong, (songSeconds % 60)/10, true); 
                setAudioEffectProgBar((100-(songSeconds*5)) + "%", "0%");
                document.querySelector("p.songEffectNum.\\31").textContent = (songSeconds % 60)/10;
            }
            else if (songSeconds > 16){
                createAudioFiltEffect(recentSong, 1.2, false);
                setAudioEffectProgBar("40%", "100%");
                document.querySelector("p.songEffectNum.\\31").textContent = 1.2;
            }
            if(songSeconds % 60 == 30){clearInterval(currentInterval2);}
        }, 0);
    }


    //Puts all previous filters together into one dynamic function
    function updateAudioFilt(song){
        if(currentSongFilt == getAudioFilterVar[1]){
            resetAudioNTime();
            slowSongPitch(song);
            setAudioEffectProgBar("57.5%", "100%");
            document.querySelector("p.songEffectNum.\\31").textContent = 0.85;
        }
        if(currentSongFilt == getAudioFilterVar[2]){
            resetAudioNTime();
            nightCoreSong(song);
            setAudioEffectProgBar("49%", "100%");
            document.querySelector("p.songEffectNum.\\31").textContent = 1.1;
        }
        if(currentSongFilt == getAudioFilterVar[3]){
            recentlyPlayedAudio.forEach(f=> resetSongFilter(f));
            updateSongGradual();
        }
        if(currentSongFilt == getAudioFilterVar[4]){
            resetAudioNTime();
            customUserPreset.setAudio(song);
        }
    }

    
    /*  Song Effects View */
    const allAudioFiltBtns = document.querySelector("div.songEffectPresetsCont");
    function resetAudioFiltBtnStyles(){
        for(let button of allAudioFiltBtns.children) {
            button.style.borderStyle = "outset";
            button.style.backgroundColor = "#EFEFEF";
        }
    }

    function setAudioEffectProgBar(firstBarHeight, secondBarHeight){
        document.querySelector("div.songEffectVertShownBarEmpty.\\31").style.height = firstBarHeight;
        document.querySelector("div.songEffectVertShownBarEmpty.\\32").style.height = secondBarHeight;
    }

    function resetEffectsView(){
        resetAudioFiltBtnStyles();
        resetAudioNTime();
        songFilterMode = false;
        currentSongFilt = "";
    }
    
    function playAudioFiltNow(){
        const song = recentlyPlayedAudio[recentlyPlayedAudio.length-1];
        if(!playPauseToggle){   
            stopLaterSongs();   //Prevents listenLater song overlap
            song.pause();      
            updateSongTime();
            song.play(); 
        }
    }

    /*Queue Tab Body Listener - Song Filters*/
    document.body.addEventListener("click", function(event){
        const from = event.target;
        if(hasClass(from, "resetSongEffectBtn")){   //Reset Button
            resetEffectsView();
            setAudioEffectProgBar("50%", "0%");
            document.querySelector("p.songEffectNum.\\31").textContent = 1.0;
            customUserPreset.updateAllEffects(1.0, true);
            playAudioFiltNow();
        }

        if(hasClass(from, "effectPresetBtn")){  //Filter Preset Buttons            
            const filtNum = from.className.slice(-1);
            const recentSong = recentlyPlayedAudio[recentlyPlayedAudio.length-1];
            songFilterMode = true;

            if(currentSongFilt == getAudioFilterVar[filtNum]){
                resetAudioFiltBtnStyles();
                songFilterMode = false;
                currentSongFilt = "";
                setAudioEffectProgBar("50%", "0%");
                document.querySelector("p.songEffectNum.\\31").textContent = "1.0";
                resetAudioNTime();  
                playAudioFiltNow();
            }
            else{
                resetAudioFiltBtnStyles();
                currentSongFilt = getAudioFilterVar[filtNum];
                from.style.borderStyle = "inset";
                from.style.backgroundColor = "#666";

                updateAudioFilt(recentSong);
                playAudioFiltNow();
            }
        }

        if(hasClass(from, "songEffectVertShownBar") || hasClass(from, "songEffectVertShownBarEmpty")){      //progBar of Filters
            const effectNum = from.className.slice(-1);
            const recentSong = recentlyPlayedAudio[recentlyPlayedAudio.length-1];
            const progressEffectBar = document.querySelector(`div.songEffectVertShownBarEmpty.\\3${effectNum}`);
            
            songFilterMode = true;
            currentSongFilt = "Custom";
            resetAudioFiltBtnStyles();
            songTimeIntervals.forEach(f => clearInterval(f));

            //Speed progBar
            if(effectNum == 1){ 
                let speed = (event.offsetY/from.clientHeight)*100;
                if(speed >= 95){
                    speed = 92; 
                    console.log("Music speed cannot be set any lower");
                }

                const convertSpeed = (num) => (2.0-(speed/num));
                progressEffectBar.style.height = speed + '%';
              
                if(speed < 50){   //Speeds up Music
                    document.querySelector("p.songEffectNum.\\31").textContent = (convertSpeed(100).toFixed(2));
                    customUserPreset.updateSpeed(convertSpeed(100).toFixed(2));
                    updateAudioFilt(recentSong);   
                    playAudioFiltNow();                
                }
                else{ //Slows down Music
                    document.querySelector("p.songEffectNum.\\31").textContent = (convertSpeed(50).toFixed(2));
                    customUserPreset.updateSpeed(convertSpeed(50).toFixed(2));
                    updateAudioFilt(recentSong);
                    playAudioFiltNow();
                }
            }
            //Pitch progBar
            else{   
                if(progressEffectBar.style.height == '100%'){
                    progressEffectBar.style.height = '0%';
                    customUserPreset.updatePitch(true);
                    updateAudioFilt(recentSong);
                    playAudioFiltNow();
                }
                else{
                    progressEffectBar.style.height = '100%';
                    customUserPreset.updatePitch(false);
                    updateAudioFilt(recentSong);
                    playAudioFiltNow();               
                }
            }
        }
    });